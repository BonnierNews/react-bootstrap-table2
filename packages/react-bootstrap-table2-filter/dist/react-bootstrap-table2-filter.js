!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactBootstrapTable2Filter=e(require("react")):t.ReactBootstrapTable2Filter=e(t.React)}(self,(t=>(()=>{var e={703:(t,e,r)=>{"use strict";var n=r(414);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,r,o,i,a){if(a!==n){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},697:(t,e,r)=>{t.exports=r(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:e=>{"use strict";e.exports=t}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{Comparator:()=>Nt,FILTER_TYPES:()=>kt,customFilter:()=>Ut,dateFilter:()=>xt,default:()=>wt,multiSelectFilter:()=>Dt,numberFilter:()=>_t,selectFilter:()=>Rt,textFilter:()=>Vt});var t={};n.r(t),n.d(t,{EQ:()=>u,GE:()=>p,GT:()=>s,LE:()=>y,LIKE:()=>l,LT:()=>f,NE:()=>c});var e=n(787),r=n.n(e),i=n(697),a=n.n(i),l="LIKE",u="=",c="!=",s=">",p=">=",f="<",y="<=",m={TEXT:"TEXT",SELECT:"SELECT",MULTISELECT:"MULTISELECT",NUMBER:"NUMBER",DATE:"DATE"};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}var d=["id","placeholder","column","style","className","onFilter","caseSensitive","defaultValue","getFilter","filterState"];function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h.apply(this,arguments)}function v(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===b(i)?i:String(i)),n)}var o,i}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=F(t);if(e){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}(this,r)}}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(a,t);var e,n,o,i=S(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).filter=e.filter.bind(E(e)),e.handleClick=e.handleClick.bind(E(e)),e.timeout=null,e.state={value:t.filterState&&void 0!==t.filterState.filterVal?t.filterState.filterVal:t.defaultValue},e}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this,e=this.props,r=e.onFilter,n=e.getFilter,o=e.column,i=this.input.value;i&&r(this.props.column,m.TEXT,!0)(i),n&&n((function(e){t.setState((function(){return{value:e}})),r(o,m.TEXT)(e)}))}},{key:"componentWillUnmount",value:function(){this.cleanTimer()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.defaultValue!==this.props.defaultValue&&this.applyFilter(t.defaultValue)}},{key:"filter",value:function(t){var e=this;t.stopPropagation(),this.cleanTimer();var r=t.target.value;this.setState((function(){return{value:r}})),this.timeout=setTimeout((function(){e.props.onFilter(e.props.column,m.TEXT)(r)}),this.props.delay)}},{key:"cleanTimer",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"cleanFiltered",value:function(){var t=this.props.defaultValue;this.setState((function(){return{value:t}})),this.props.onFilter(this.props.column,m.TEXT)(t)}},{key:"applyFilter",value:function(t){this.setState((function(){return{value:t}})),this.props.onFilter(this.props.column,m.TEXT)(t)}},{key:"handleClick",value:function(t){t.stopPropagation(),this.props.onClick&&this.props.onClick(t)}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,o=e.placeholder,i=e.column,a=i.dataField,l=i.text,u=e.style,c=e.className,s=(e.onFilter,e.caseSensitive,e.defaultValue,e.getFilter,e.filterState,v(e,d)),p="text-filter-column-".concat(a).concat(n?"-".concat(n):"");return r().createElement("label",{className:"filter-label",htmlFor:p},r().createElement("span",{className:"sr-only"},"Filter by ",l),r().createElement("input",h({},s,{ref:function(e){return t.input=e},type:"text",id:p,className:"filter text-filter form-control ".concat(c),style:u,onChange:this.filter,onClick:this.handleClick,placeholder:o||"Enter ".concat(l,"..."),value:this.state.value})))}}])&&g(e.prototype,n),o&&g(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.Component);j.propTypes={onFilter:i.PropTypes.func.isRequired,column:i.PropTypes.object.isRequired,id:i.PropTypes.string,filterState:i.PropTypes.object,comparator:i.PropTypes.oneOf([l,u]),defaultValue:i.PropTypes.string,delay:i.PropTypes.number,placeholder:i.PropTypes.string,style:i.PropTypes.object,className:i.PropTypes.string,caseSensitive:i.PropTypes.bool,getFilter:i.PropTypes.func},j.defaultProps={delay:500,filterState:{},defaultValue:"",caseSensitive:!1,id:null};const P=j;function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}var T=["id","style","className","defaultValue","onFilter","column","options","comparator","withoutEmptyOption","caseSensitive","getFilter","filterState"];function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w.apply(this,arguments)}function k(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===C(i)?i:String(i)),n)}var o,i}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_(t);if(e){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return D(t)}(this,r)}}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(a,t);var e,n,o,i=R(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).filter=e.filter.bind(D(e)),e.options=e.getOptions(t);var r,n,o=void 0!==(r=e.options,n=e.getDefaultValue(),Array.isArray(r)?r.filter((function(t){return t.label===n})).map((function(t){return t.value}))[0]:r[n]);return e.state={isSelected:o},e}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this,e=this.props,r=e.column,n=e.onFilter,o=e.getFilter,i=this.selectInput.value;i&&""!==i&&n(r,m.SELECT,!0)(i),o&&o((function(e){t.setState((function(){return{isSelected:""!==e}})),t.selectInput.value=e,n(r,m.SELECT)(e)}))}},{key:"componentDidUpdate",value:function(t){var e=!1,r=this.props,n=r.column,o=r.onFilter,i=r.defaultValue,a=this.getOptions(this.props);if(i!==t.defaultValue?e=!0:function(t,e){if(Array.isArray(t)){if(t.length===e.length){for(var r=0;r<t.length;r+=1)if(t[r].value!==e[r].value||t[r].label!==e[r].label)return!1;return!0}return!1}for(var n=Object.keys(t),o=0;o<n.length;o+=1)if(t[n[o]]!==e[n[o]])return!1;return Object.keys(t).length===Object.keys(e).length}(a,this.options)||(this.options=a,e=!0),e){var l=this.selectInput.value;l&&o(n,m.SELECT)(l)}}},{key:"getOptions",value:function(t){return"function"==typeof t.options?t.options(t.column):t.options}},{key:"getDefaultValue",value:function(){var t=this.props,e=t.filterState,r=t.defaultValue;return e&&void 0!==e.filterVal?e.filterVal:r}},{key:"cleanFiltered",value:function(){var t=void 0!==this.props.defaultValue?this.props.defaultValue:"";this.setState((function(){return{isSelected:""!==t}})),this.selectInput.value=t,this.props.onFilter(this.props.column,m.SELECT)(t)}},{key:"applyFilter",value:function(t){this.selectInput.value=t,this.setState((function(){return{isSelected:""!==t}})),this.props.onFilter(this.props.column,m.SELECT)(t)}},{key:"filter",value:function(t){var e=t.target.value;this.setState((function(){return{isSelected:""!==e}})),this.props.onFilter(this.props.column,m.SELECT)(e)}},{key:"renderOptions",value:function(){var t=[],e=this.options,n=this.props,o=n.placeholder,i=n.column;return n.withoutEmptyOption||t.push(r().createElement("option",{key:"-1",value:""},o||"Select ".concat(i.text,"..."))),Array.isArray(e)?e.forEach((function(e){var n=e.value,o=e.label;return t.push(r().createElement("option",{key:n,value:n},o))})):Object.keys(e).forEach((function(n){return t.push(r().createElement("option",{key:n,value:n},e[n]))})),t}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,o=e.style,i=e.className,a=(e.defaultValue,e.onFilter,e.column),l=(e.options,e.comparator,e.withoutEmptyOption,e.caseSensitive,e.getFilter,e.filterState,k(e,T)),u="filter select-filter form-control ".concat(i," ").concat(this.state.isSelected?"":"placeholder-selected"),c="select-filter-column-".concat(a.dataField).concat(n?"-".concat(n):"");return r().createElement("label",{className:"filter-label",htmlFor:c},r().createElement("span",{className:"sr-only"},"Filter by ",a.text),r().createElement("select",w({},l,{ref:function(e){return t.selectInput=e},id:c,style:o,className:u,onChange:this.filter,onClick:function(t){return t.stopPropagation()},defaultValue:this.getDefaultValue()||""}),this.renderOptions()))}}])&&N(e.prototype,n),o&&N(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.Component);x.propTypes={onFilter:a().func.isRequired,column:a().object.isRequired,id:a().string,filterState:a().object,options:a().oneOfType([a().object,a().array]).isRequired,comparator:a().oneOf([l,u]),placeholder:a().string,style:a().object,className:a().string,withoutEmptyOption:a().bool,defaultValue:a().any,caseSensitive:a().bool,getFilter:a().func},x.defaultProps={defaultValue:"",filterState:{},className:"",withoutEmptyOption:!1,comparator:u,caseSensitive:!0,id:null};const U=x;function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}var M=["id","style","className","filterState","defaultValue","onFilter","column","options","comparator","withoutEmptyOption","caseSensitive","getFilter"];function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B.apply(this,arguments)}function I(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==L(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===L(i)?i:String(i)),n)}var o,i}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Y(t);if(e){var o=Y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return X(t)}(this,r)}}function X(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(t)}var G=function(t){if(t.selectedOptions)return Array.from(t.selectedOptions).map((function(t){return t.value}));for(var e=[],r=t.options.length,n=0;n<r;n+=1){var o=t.options.item(n);o.selected&&e.push(o.value)}return e},K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(a,t);var e,n,o,i=W(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).filter=e.filter.bind(X(e)),e.applyFilter=e.applyFilter.bind(X(e));var r=t.defaultValue.map((function(e){return t.options[e]})).length>0;return e.state={isSelected:r},e}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this,e=this.props.getFilter,r=G(this.selectInput);r&&r.length>0&&this.applyFilter(r),e&&e((function(e){t.selectInput.value=e,t.applyFilter(e)}))}},{key:"componentDidUpdate",value:function(t){var e=!1;this.props.defaultValue!==t.defaultValue?e=!0:function(t,e){for(var r=Object.keys(t),n=0;n<r.length;n+=1)if(t[r[n]]!==e[r[n]])return!1;return Object.keys(t).length===Object.keys(e).length}(this.props.options,t.options)||(e=!0),e&&this.applyFilter(G(this.selectInput))}},{key:"getDefaultValue",value:function(){var t=this.props,e=t.filterState,r=t.defaultValue;return e&&void 0!==e.filterVal?e.filterVal:r}},{key:"getOptions",value:function(){var t=[],e=this.props,n=e.options,o=e.placeholder,i=e.column;return e.withoutEmptyOption||t.push(r().createElement("option",{key:"-1",value:""},o||"Select ".concat(i.text,"..."))),Object.keys(n).forEach((function(e){return t.push(r().createElement("option",{key:e,value:e},n[e]))})),t}},{key:"cleanFiltered",value:function(){var t=void 0!==this.props.defaultValue?this.props.defaultValue:[];this.selectInput.value=t,this.applyFilter(t)}},{key:"applyFilter",value:function(t){1===t.length&&""===t[0]&&(t=[]),this.setState((function(){return{isSelected:t.length>0}})),this.props.onFilter(this.props.column,m.MULTISELECT)(t)}},{key:"filter",value:function(t){var e=G(t.target);this.applyFilter(e)}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,o=e.style,i=e.className,a=(e.filterState,e.defaultValue,e.onFilter,e.column),l=(e.options,e.comparator,e.withoutEmptyOption,e.caseSensitive,e.getFilter,I(e,M)),u="filter select-filter form-control ".concat(i," ").concat(this.state.isSelected?"":"placeholder-selected"),c="multiselect-filter-column-".concat(a.dataField).concat(n?"-".concat(n):"");return r().createElement("label",{className:"filter-label",htmlFor:c},r().createElement("span",{className:"sr-only"},"Filter by ",a.text),r().createElement("select",B({},l,{ref:function(e){return t.selectInput=e},id:c,style:o,multiple:!0,className:u,onChange:this.filter,onClick:function(t){return t.stopPropagation()},defaultValue:this.getDefaultValue()}),this.getOptions()))}}])&&q(e.prototype,n),o&&q(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.Component);K.propTypes={onFilter:a().func.isRequired,column:a().object.isRequired,options:a().object.isRequired,id:a().string,filterState:a().object,comparator:a().oneOf([l,u]),placeholder:a().string,style:a().object,className:a().string,withoutEmptyOption:a().bool,defaultValue:a().array,caseSensitive:a().bool,getFilter:a().func},K.defaultProps={defaultValue:[],filterState:{},className:"",withoutEmptyOption:!1,comparator:u,caseSensitive:!0,id:null};const H=K;function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function $(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Q(i)?i:String(i)),n)}var o,i}function z(t,e){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},z(t,e)}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=tt(t);if(e){var o=tt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Z(t)}(this,r)}}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}var et=[u,c,s,p,f,y],rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(a,t);var e,n,o,i=J(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).comparators=t.comparators||et,e.timeout=null;var r=void 0!==t.defaultValue&&void 0!==t.defaultValue.number;return t.options&&r&&(r=t.options.indexOf(t.defaultValue.number)>-1),e.state={isSelected:r},e.onChangeNumber=e.onChangeNumber.bind(Z(e)),e.onChangeNumberSet=e.onChangeNumberSet.bind(Z(e)),e.onChangeComparator=e.onChangeComparator.bind(Z(e)),e}return e=a,n=[{key:"componentDidMount",value:function(){var t=this,e=this.props,r=e.column,n=e.onFilter,o=e.getFilter,i=this.numberFilterComparator.value,a=this.numberFilter.value;i&&a&&n(r,m.NUMBER,!0)({number:a,comparator:i}),o&&o((function(e){t.setState((function(){return{isSelected:""!==e}})),t.numberFilterComparator.value=e.comparator,t.numberFilter.value=e.number,n(r,m.NUMBER)({number:e.number,comparator:e.comparator})}))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"onChangeNumber",value:function(t){var e=this.props,r=e.delay,n=e.column,o=e.onFilter,i=this.numberFilterComparator.value;if(""!==i){this.timeout&&clearTimeout(this.timeout);var a=t.target.value;this.timeout=setTimeout((function(){o(n,m.NUMBER)({number:a,comparator:i})}),r)}}},{key:"onChangeNumberSet",value:function(t){var e=this.props,r=e.column,n=e.onFilter,o=this.numberFilterComparator.value,i=t.target.value;this.setState((function(){return{isSelected:""!==i}})),n(r,m.NUMBER)({number:i,comparator:o})}},{key:"onChangeComparator",value:function(t){var e=this.props,r=e.column,n=e.onFilter,o=this.numberFilter.value,i=t.target.value;n(r,m.NUMBER)({number:o,comparator:i})}},{key:"getDefaultComparator",value:function(){var t=this.props,e=t.defaultValue,r=t.filterState;return r&&r.filterVal?r.filterVal.comparator:e&&e.comparator?e.comparator:""}},{key:"getDefaultValue",value:function(){var t=this.props,e=t.defaultValue,r=t.filterState;return r&&r.filterVal?r.filterVal.number:e&&e.number?e.number:""}},{key:"getComparatorOptions",value:function(){var t=[];this.props.withoutEmptyComparatorOption||t.push(r().createElement("option",{key:"-1"}));for(var e=0;e<this.comparators.length;e+=1)t.push(r().createElement("option",{key:e,value:this.comparators[e]},this.comparators[e]));return t}},{key:"getNumberOptions",value:function(){var t=[],e=this.props,n=e.options,o=e.column;e.withoutEmptyNumberOption||t.push(r().createElement("option",{key:"-1",value:""},this.props.placeholder||"Select ".concat(o.text,"...")));for(var i=0;i<n.length;i+=1)t.push(r().createElement("option",{key:i,value:n[i]},n[i]));return t}},{key:"applyFilter",value:function(t){var e=this.props,r=e.column,n=e.onFilter,o=t.number,i=t.comparator;this.setState((function(){return{isSelected:""!==o}})),this.numberFilterComparator.value=i,this.numberFilter.value=o,n(r,m.NUMBER)({number:o,comparator:i})}},{key:"cleanFiltered",value:function(){var t=this.props,e=t.column,r=t.onFilter,n=t.defaultValue,o=n?n.number:"",i=n?n.comparator:"";this.setState((function(){return{isSelected:""!==o}})),this.numberFilterComparator.value=i,this.numberFilter.value=o,r(e,m.NUMBER)({number:o,comparator:i})}},{key:"render",value:function(){var t=this,e=this.state.isSelected,n=this.props,o=n.id,i=n.column,a=n.options,l=n.style,u=n.className,c=n.numberStyle,s=n.numberClassName,p=n.comparatorStyle,f=n.comparatorClassName,y=n.placeholder,m="\n      select-filter \n      number-filter-input \n      form-control \n      ".concat(s," \n      ").concat(e?"":"placeholder-selected","\n    "),b="number-filter-comparator-".concat(i.dataField).concat(o?"-".concat(o):""),d="number-filter-column-".concat(i.dataField).concat(o?"-".concat(o):"");return r().createElement("div",{onClick:function(t){return t.stopPropagation()},className:"filter number-filter ".concat(u),style:l},r().createElement("label",{className:"filter-label",htmlFor:b},r().createElement("span",{className:"sr-only"},"Filter comparator"),r().createElement("select",{ref:function(e){return t.numberFilterComparator=e},style:p,id:b,className:"number-filter-comparator form-control ".concat(f),onChange:this.onChangeComparator,defaultValue:this.getDefaultComparator()},this.getComparatorOptions())),a?r().createElement("label",{className:"filter-label",htmlFor:d},r().createElement("span",{className:"sr-only"},"Select ".concat(i.text)),r().createElement("select",{ref:function(e){return t.numberFilter=e},id:d,style:c,className:m,onChange:this.onChangeNumberSet,defaultValue:this.getDefaultValue()},this.getNumberOptions())):r().createElement("label",{htmlFor:d},r().createElement("span",{className:"sr-only"},"Enter ".concat(i.text)),r().createElement("input",{ref:function(e){return t.numberFilter=e},id:d,type:"number",style:c,className:"number-filter-input form-control ".concat(s),placeholder:y||"Enter ".concat(i.text,"..."),onChange:this.onChangeNumber,defaultValue:this.getDefaultValue()})))}}],n&&$(e.prototype,n),o&&$(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.Component);rt.propTypes={onFilter:a().func.isRequired,column:a().object.isRequired,id:a().string,filterState:a().object,options:a().arrayOf(a().number),defaultValue:a().shape({number:a().oneOfType([a().string,a().number]),comparator:a().oneOf([].concat(et,[""]))}),delay:a().number,comparators:function(t,e){if(t[e])for(var r=0;r<t[e].length;r+=1){for(var n=!1,o=0;o<et.length;o+=1)if(et[o]===t[e][r]||""===t[e][r]){n=!0;break}if(!n)return new Error("Number comparator provided is not supported.\n          Use only ".concat(et))}},placeholder:a().string,withoutEmptyComparatorOption:a().bool,withoutEmptyNumberOption:a().bool,style:a().object,className:a().string,comparatorStyle:a().object,comparatorClassName:a().string,numberStyle:a().object,numberClassName:a().string,getFilter:a().func},rt.defaultProps={delay:500,options:void 0,defaultValue:{number:void 0,comparator:""},filterState:{},withoutEmptyComparatorOption:!1,withoutEmptyNumberOption:!1,comparators:et,placeholder:void 0,style:void 0,className:"",comparatorStyle:void 0,comparatorClassName:"",numberStyle:void 0,numberClassName:"",id:null};const nt=rt;function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==ot(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ot(i)?i:String(i)),n)}var o,i}function at(t,e){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},at(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ct(t);if(e){var o=ct(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}(this,r)}}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}var st=[u,c,s,p,f,y];function pt(t){return"".concat(t.getUTCFullYear(),"-").concat(("0"+(t.getUTCMonth()+1)).slice(-2),"-").concat(("0"+t.getUTCDate()).slice(-2))}var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(a,t);var e,n,o,i=lt(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).timeout=null,e.comparators=t.comparators||st,e.applyFilter=e.applyFilter.bind(ut(e)),e.onChangeDate=e.onChangeDate.bind(ut(e)),e.onChangeComparator=e.onChangeComparator.bind(ut(e)),e}return e=a,n=[{key:"componentDidMount",value:function(){var t=this,e=this.props.getFilter,r=this.dateFilterComparator.value,n=this.inputDate.value;r&&n&&this.applyFilter(n,r,!0),e&&e((function(e){var r=e||{date:null,comparator:null};t.dateFilterComparator.value=r.comparator,t.inputDate.value=r.date?pt(r.date):null,t.applyFilter(r.date,r.comparator)}))}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"onChangeDate",value:function(t){var e=this.dateFilterComparator.value,r=t.target.value;this.applyFilter(r,e)}},{key:"onChangeComparator",value:function(t){var e=this.inputDate.value,r=t.target.value;this.applyFilter(e,r)}},{key:"getComparatorOptions",value:function(){var t=[];this.props.withoutEmptyComparatorOption||t.push(r().createElement("option",{key:"-1"}));for(var e=0;e<this.comparators.length;e+=1)t.push(r().createElement("option",{key:e,value:this.comparators[e]},this.comparators[e]));return t}},{key:"getDefaultComparator",value:function(){var t=this.props,e=t.defaultValue,r=t.filterState;return r&&r.filterVal?r.filterVal.comparator:e&&e.comparator?e.comparator:""}},{key:"getDefaultDate",value:function(){var t=this.props,e=t.defaultValue,r=t.filterState;return r&&r.filterVal&&r.filterVal.date?pt(r.filterVal.date):e&&e.date?pt(new Date(e.date)):""}},{key:"applyFilter",value:function(t,e,r){var n=this.props,o=n.column,i=n.onFilter,a=n.delay,l=function(){var n=""===t?null:new Date(t);i(o,m.DATE,r)({date:n,comparator:e})};a?this.timeout=setTimeout((function(){l()}),a):l()}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,o=e.placeholder,i=e.column,a=i.dataField,l=i.text,u=e.style,c=e.comparatorStyle,s=e.dateStyle,p=e.className,f=e.comparatorClassName,y=e.dateClassName,m="date-filter-comparator-".concat(a).concat(n?"-".concat(n):""),b="date-filter-column-".concat(a).concat(n?"-".concat(n):"");return r().createElement("div",{onClick:function(t){return t.stopPropagation()},className:"filter date-filter ".concat(p),style:u},r().createElement("label",{className:"filter-label",htmlFor:m},r().createElement("span",{className:"sr-only"},"Filter comparator"),r().createElement("select",{ref:function(e){return t.dateFilterComparator=e},id:m,style:c,className:"date-filter-comparator form-control ".concat(f),onChange:this.onChangeComparator,defaultValue:this.getDefaultComparator()},this.getComparatorOptions())),r().createElement("label",{htmlFor:b},r().createElement("span",{className:"sr-only"},"Enter $",l),r().createElement("input",{ref:function(e){return t.inputDate=e},id:b,className:"filter date-filter-input form-control ".concat(y),style:s,type:"date",onChange:this.onChangeDate,placeholder:o||"Enter ".concat(l,"..."),defaultValue:this.getDefaultDate()})))}}],n&&it(e.prototype,n),o&&it(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.Component);ft.propTypes={onFilter:i.PropTypes.func.isRequired,column:i.PropTypes.object.isRequired,id:i.PropTypes.string,filterState:i.PropTypes.object,delay:i.PropTypes.number,defaultValue:i.PropTypes.shape({date:i.PropTypes.oneOfType([i.PropTypes.object]),comparator:i.PropTypes.oneOf([].concat(st,[""]))}),comparators:function(t,e){if(t[e])for(var r=0;r<t[e].length;r+=1){for(var n=!1,o=0;o<st.length;o+=1)if(st[o]===t[e][r]||""===t[e][r]){n=!0;break}if(!n)return new Error("Date comparator provided is not supported.\n          Use only ".concat(st))}},placeholder:i.PropTypes.string,withoutEmptyComparatorOption:i.PropTypes.bool,style:i.PropTypes.object,comparatorStyle:i.PropTypes.object,dateStyle:i.PropTypes.object,className:i.PropTypes.string,comparatorClassName:i.PropTypes.string,dateClassName:i.PropTypes.string,getFilter:i.PropTypes.func},ft.defaultProps={delay:0,defaultValue:{date:void 0,comparator:""},filterState:{},withoutEmptyComparatorOption:!1,comparators:st,placeholder:void 0,style:void 0,className:"",comparatorStyle:void 0,comparatorClassName:"",dateStyle:void 0,dateClassName:"",id:null};const yt=ft;function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(r),!0).forEach((function(e){dt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function dt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==ht(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ht(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}var vt=function(t){return function(e){switch(e){case m.MULTISELECT:return function(t){return function(e,r,n){var o=n.filterVal,i=n.comparator;if(0===o.length)return e;var a=o.filter((function(e){return t.isDefined(e)})).map((function(t){return t.toString()}));return e.filter((function(e){var n=t.get(e,r),o=t.isDefined(n)?n.toString():"";return i===u?-1!==a.indexOf(o):(o=o.toLocaleUpperCase(),a.some((function(t){return-1!==o.indexOf(t.toLocaleUpperCase())})))}))}}(t);case m.NUMBER:return function(t){return function(e,r,n,o){var i=n.filterVal,a=i.comparator,l=i.number;return e.filter((function(e){if(""===l||!a)return!0;var n=t.get(e,r);switch(o&&(n=o(n,e)),a){case u:return n==l;case s:return n>l;case p:return n>=l;case f:return n<l;case y:return n<=l;case c:return n!=l;default:return console.error("Number comparator provided is not supported"),!0}}))}}(t);case m.DATE:return function(t){return function(e,r,n,o){var i=n.filterVal,a=i.comparator,l=i.date;if(!l||!a)return e;var m=l.getUTCDate(),b=l.getUTCMonth(),d=l.getUTCFullYear();return e.filter((function(e){var n=!0,i=t.get(e,r);o&&(i=o(i,e)),"object"!==ht(i)&&(i=new Date(i));var h=i.getUTCDate(),v=i.getUTCMonth(),g=i.getUTCFullYear();switch(a){case u:m===h&&b===v&&d===g||(n=!1);break;case s:i<=l&&(n=!1);break;case p:(g<d||g===d&&v<b||g===d&&v===b&&h<m)&&(n=!1);break;case f:i>=l&&(n=!1);break;case y:(g>d||g===d&&v>b||g===d&&v===b&&h>m)&&(n=!1);break;case c:m===h&&b===v&&d===g&&(n=!1);break;default:console.error("Date comparator provided is not supported")}return n}))}}(t);default:return function(t){return function(e,r,n,o){var i=n.filterVal,a=void 0===i?"":i,c=n.comparator,s=void 0===c?l:c,p=n.caseSensitive,f=a.toString();return e.filter((function(e){var n=t.get(e,r);o&&(n=o(n,e));var i=t.isDefined(n)?n.toString():"";return s===u?i===f:p?i.includes(f):-1!==i.toLocaleUpperCase().indexOf(f.toLocaleUpperCase())}))}}(t)}}};function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function Ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ct(n.key),n)}}function St(t,e){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},St(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=jt(t);if(e){var o=jt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ft(t)}(this,r)}}function Ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jt(t){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jt(t)}function Pt(t,e,r){return(e=Ct(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ct(t){var e=function(t,e){if("object"!==gt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===gt(e)?e:String(e)}const Tt=function(t,e,n){var o=r().createContext(),i=function(i){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&St(t,e)}(f,i);var a,c,s,p=Et(f);function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=p.call(this,t)).currFilters={},e.clearFilters={},e.onFilter=e.onFilter.bind(Ft(e)),e.doFilter=e.doFilter.bind(Ft(e)),e.onExternalFilter=e.onExternalFilter.bind(Ft(e)),e.data=t.data,e.isEmitDataChange=!1,e}return a=f,c=[{key:"componentDidMount",value:function(){e()&&Object.keys(this.currFilters).length>0&&n(this.currFilters)}},{key:"onFilter",value:function(r,o){var i=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(c){var s=Object.assign({},i.currFilters);i.clearFilters={};var p=r.dataField,f=r.filter;if(t.isDefined(c)&&""!==c&&0!==c.length){var y=f.props,b=y.comparator,d=void 0===b?o===m.SELECT?u:l:b,h=y.caseSensitive,v=void 0!==h&&h;s[p]={filterVal:c,filterType:o,comparator:d,caseSensitive:v}}else delete s[p],i.clearFilters=Pt({},p,{clear:!0,filterVal:c});i.currFilters=s,e()?a||n(i.currFilters):i.doFilter(i.props)}}},{key:"onExternalFilter",value:function(t,e){var r=this;return function(n){r.onFilter(t,e)(n)}}},{key:"getFiltered",value:function(){return this.data}},{key:"UNSAFE_componentWillReceiveProps",value:function(r){e()||t.isEqual(r.data,this.data)?this.data=r.data:this.doFilter(r,this.isEmitDataChange)}},{key:"doFilter",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.dataChangeListener,o=e.data,i=e.columns,a=e.filter,l=function(t,e,r){return function(n){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=vt(r),l=bt(bt({},i),n),u=t;return Object.keys(l).forEach((function(t){for(var r,n,c,s=0;s<e.length;s+=1)if(e[s].dataField===t){n=e[s].filterValue,e[s].filter&&(c=e[s].filter.props.onFilter);break}if(i[t]&&c)void 0!==(r=c(i[t].filterVal,u))&&(u=r);else{var p=l[t];o=a(p.filterType),c&&(r=c(p.filterVal,u)),u=void 0===r?o(u,t,p,n):r}})),u}}(o,i,t)(this.currFilters,this.clearFilters);a.afterFilter&&a.afterFilter(l,this.currFilters),this.data=l,n&&!r?(this.isEmitDataChange=!0,n.emit("filterChanged",l.length)):(this.isEmitDataChange=!1,this.forceUpdate())}},{key:"render",value:function(){return r().createElement(o.Provider,{value:{data:this.data,onFilter:this.onFilter,onExternalFilter:this.onExternalFilter,currFilters:this.currFilters}},this.props.children)}}],c&&Ot(a.prototype,c),s&&Ot(a,s),Object.defineProperty(a,"prototype",{writable:!1}),f}(r().Component);return Pt(i,"propTypes",{data:a().array.isRequired,columns:a().array.isRequired,dataChangeListener:a().object}),{Provider:i,Consumer:o.Consumer}},wt=function(){return{createContext:Tt,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}};var kt=m,Nt=t,Vt=function(){return{Filter:P,props:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},Rt=function(){return{Filter:U,props:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},Dt=function(){return{Filter:H,props:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},_t=function(){return{Filter:nt,props:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},xt=function(){return{Filter:yt,props:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},Ut=function(){return{props:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}})(),o})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3QtYm9vdHN0cmFwLXRhYmxlMi1maWx0ZXIvZGlzdC9yZWFjdC1ib290c3RyYXAtdGFibGUyLWZpbHRlci5qcyIsIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxVQUNSLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sQ0FBQyxTQUFVSixHQUNRLGlCQUFaQyxRQUNkQSxRQUFvQywyQkFBSUQsRUFBUUcsUUFBUSxVQUV4REosRUFBaUMsMkJBQUlDLEVBQVFELEVBQVksTUFDMUQsQ0FURCxDQVNHTyxNQUFPQyxHLHdDQ0FWLElBQUlDLEVBQXVCLEVBQVEsS0FFbkMsU0FBU0MsSUFBaUIsQ0FDMUIsU0FBU0MsSUFBMEIsQ0FDbkNBLEVBQXVCQyxrQkFBb0JGLEVBRTNDUCxFQUFPRCxRQUFVLFdBQ2YsU0FBU1csRUFBS0MsRUFBT0MsRUFBVUMsRUFBZUMsRUFBVUMsRUFBY0MsR0FDcEUsR0FBSUEsSUFBV1YsRUFBZixDQUlBLElBQUlXLEVBQU0sSUFBSUMsTUFDWixtTEFLRixNQURBRCxFQUFJRSxLQUFPLHNCQUNMRixDQVBOLENBUUYsQ0FFQSxTQUFTRyxJQUNQLE9BQU9WLENBQ1QsQ0FIQUEsRUFBS1csV0FBYVgsRUFNbEIsSUFBSVksRUFBaUIsQ0FDbkJDLE1BQU9iLEVBQ1BjLE9BQVFkLEVBQ1JlLEtBQU1mLEVBQ05nQixLQUFNaEIsRUFDTmlCLE9BQVFqQixFQUNSa0IsT0FBUWxCLEVBQ1JtQixPQUFRbkIsRUFDUm9CLE9BQVFwQixFQUVScUIsSUFBS3JCLEVBQ0xzQixRQUFTWixFQUNUYSxRQUFTdkIsRUFDVHdCLFlBQWF4QixFQUNieUIsV0FBWWYsRUFDWmdCLEtBQU0xQixFQUNOMkIsU0FBVWpCLEVBQ1ZrQixNQUFPbEIsRUFDUG1CLFVBQVduQixFQUNYb0IsTUFBT3BCLEVBQ1BxQixNQUFPckIsRUFFUHNCLGVBQWdCbEMsRUFDaEJD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LEVBRUssSUFBTXdCLEdBQWVuTyxFQUVmK0csR0FBYXFILEVBRWJDLEdBQWEsV0FBVyxNQUFNLENBQ3pDQyxPQUFRaE8sRUFDUnpFLE1BRjhCOFEsVUFBQXRILE9BQUEsUUFBQW5ILElBQUF5TyxVQUFBLEdBQUFBLFVBQUEsR0FBRyxDQUFDLEVBR25DLEVBRVk0QixHQUFlLFdBQVcsTUFBTSxDQUMzQ0QsT0FBUWxLLEVBQ1J2SSxNQUZnQzhRLFVBQUF0SCxPQUFBLFFBQUFuSCxJQUFBeU8sVUFBQSxHQUFBQSxVQUFBLEdBQUcsQ0FBQyxFQUdyQyxFQUVZNkIsR0FBb0IsV0FBVyxNQUFNLENBQ2hERixPQUFRMUgsRUFDUi9LLE1BRnFDOFEsVUFBQXRILE9BQUEsUUFBQW5ILElBQUF5TyxVQUFBLEdBQUFBLFVBQUEsR0FBRyxDQUFDLEVBRzFDLEVBRVlwRixHQUFlLFdBQVcsTUFBTSxDQUMzQytHLE9BQVF0SCxHQUNSbkwsTUFGZ0M4USxVQUFBdEgsT0FBQSxRQUFBbkgsSUFBQXlPLFVBQUEsR0FBQUEsVUFBQSxHQUFHLENBQUMsRUFHckMsRUFFWThCLEdBQWEsV0FBVyxNQUFNLENBQ3pDSCxPQUFRdEYsR0FDUm5OLE1BRjhCOFEsVUFBQXRILE9BQUEsUUFBQW5ILElBQUF5TyxVQUFBLEdBQUFBLFVBQUEsR0FBRyxDQUFDLEVBR25DLEVBRVllLEdBQWUsV0FBVyxNQUFNLENBQzNDN1IsTUFEZ0M4USxVQUFBdEgsT0FBQSxRQUFBbkgsSUFBQXlPLFVBQUEsR0FBQUEsVUFBQSxHQUFHLENBQUMsRUFFckMsQyIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgdW1kIHtcInJvb3RcIjpcIlJlYWN0XCIsXCJjb21tb25qczJcIjpcInJlYWN0XCIsXCJjb21tb25qc1wiOlwicmVhY3RcIixcImFtZFwiOlwicmVhY3RcIn0iLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy8uL3BhY2thZ2VzL3JlYWN0LWJvb3RzdHJhcC10YWJsZTItZmlsdGVyL3NyYy9jb21wYXJpc29uLmpzIiwid2VicGFjazovLy8uL3BhY2thZ2VzL3JlYWN0LWJvb3RzdHJhcC10YWJsZTItZmlsdGVyL3NyYy9jb25zdC5qcyIsIndlYnBhY2s6Ly8vLi9wYWNrYWdlcy9yZWFjdC1ib290c3RyYXAtdGFibGUyLWZpbHRlci9zcmMvY29tcG9uZW50cy90ZXh0LmpzIiwid2VicGFjazovLy8uL3BhY2thZ2VzL3JlYWN0LWJvb3RzdHJhcC10YWJsZTItZmlsdGVyL3NyYy9jb21wb25lbnRzL3NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi9wYWNrYWdlcy9yZWFjdC1ib290c3RyYXAtdGFibGUyLWZpbHRlci9zcmMvY29tcG9uZW50cy9tdWx0aXNlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi9wYWNrYWdlcy9yZWFjdC1ib290c3RyYXAtdGFibGUyLWZpbHRlci9zcmMvY29tcG9uZW50cy9udW1iZXIuanMiLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvcmVhY3QtYm9vdHN0cmFwLXRhYmxlMi1maWx0ZXIvc3JjL2NvbXBvbmVudHMvZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9wYWNrYWdlcy9yZWFjdC1ib290c3RyYXAtdGFibGUyLWZpbHRlci9zcmMvZmlsdGVyLmpzIiwid2VicGFjazovLy8uL3BhY2thZ2VzL3JlYWN0LWJvb3RzdHJhcC10YWJsZTItZmlsdGVyL3NyYy9jb250ZXh0LmpzIiwid2VicGFjazovLy8uL3BhY2thZ2VzL3JlYWN0LWJvb3RzdHJhcC10YWJsZTItZmlsdGVyL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInJlYWN0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlJlYWN0Qm9vdHN0cmFwVGFibGUyRmlsdGVyXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlJlYWN0Qm9vdHN0cmFwVGFibGUyRmlsdGVyXCJdID0gZmFjdG9yeShyb290W1wiUmVhY3RcIl0pO1xufSkoc2VsZiwgKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzc4N19fKSA9PiB7XG5yZXR1cm4gIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbldpdGhSZXNldCgpIHt9XG5lbXB0eUZ1bmN0aW9uV2l0aFJlc2V0LnJlc2V0V2FybmluZ0NhY2hlID0gZW1wdHlGdW5jdGlvbjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIHRocm93IGVycjtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJpZ2ludDogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBlbGVtZW50VHlwZTogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltLFxuXG4gICAgY2hlY2tQcm9wVHlwZXM6IGVtcHR5RnVuY3Rpb25XaXRoUmVzZXQsXG4gICAgcmVzZXRXYXJuaW5nQ2FjaGU6IGVtcHR5RnVuY3Rpb25cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RJcyA9IHJlcXVpcmUoJ3JlYWN0LWlzJyk7XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShSZWFjdElzLmlzRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzc4N19fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgY29uc3QgTElLRSA9ICdMSUtFJztcbmV4cG9ydCBjb25zdCBFUSA9ICc9JztcbmV4cG9ydCBjb25zdCBORSA9ICchPSc7XG5leHBvcnQgY29uc3QgR1QgPSAnPic7XG5leHBvcnQgY29uc3QgR0UgPSAnPj0nO1xuZXhwb3J0IGNvbnN0IExUID0gJzwnO1xuZXhwb3J0IGNvbnN0IExFID0gJzw9JztcbiIsImV4cG9ydCBjb25zdCBGSUxURVJfVFlQRSA9IHtcbiAgVEVYVDogJ1RFWFQnLFxuICBTRUxFQ1Q6ICdTRUxFQ1QnLFxuICBNVUxUSVNFTEVDVDogJ01VTFRJU0VMRUNUJyxcbiAgTlVNQkVSOiAnTlVNQkVSJyxcbiAgREFURTogJ0RBVEUnXG59O1xuXG5leHBvcnQgY29uc3QgRklMVEVSX0RFTEFZID0gNTAwO1xuIiwiLyogZXNsaW50IHJlYWN0L3JlcXVpcmUtZGVmYXVsdC1wcm9wczogMCAqL1xuLyogZXNsaW50IHJlYWN0L3Byb3AtdHlwZXM6IDAgKi9cbi8qIGVzbGludCBuby1yZXR1cm4tYXNzaWduOiAwICovXG4vKiBlc2xpbnQgY2FtZWxjYXNlOiAwICovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUHJvcFR5cGVzIH0gZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCB7IExJS0UsIEVRIH0gZnJvbSAnLi4vY29tcGFyaXNvbic7XG5pbXBvcnQgeyBGSUxURVJfVFlQRSwgRklMVEVSX0RFTEFZIH0gZnJvbSAnLi4vY29uc3QnO1xuXG5jbGFzcyBUZXh0RmlsdGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcbiAgICBmdW5jdGlvbiBnZXREZWZhdWx0VmFsdWUoKSB7XG4gICAgICBpZiAocHJvcHMuZmlsdGVyU3RhdGUgJiYgdHlwZW9mIHByb3BzLmZpbHRlclN0YXRlLmZpbHRlclZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzLmZpbHRlclN0YXRlLmZpbHRlclZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wcy5kZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogZ2V0RGVmYXVsdFZhbHVlKClcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBvbkZpbHRlciwgZ2V0RmlsdGVyLCBjb2x1bW4gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gdGhpcy5pbnB1dC52YWx1ZTtcblxuICAgIGlmIChkZWZhdWx0VmFsdWUpIHtcbiAgICAgIG9uRmlsdGVyKHRoaXMucHJvcHMuY29sdW1uLCBGSUxURVJfVFlQRS5URVhULCB0cnVlKShkZWZhdWx0VmFsdWUpO1xuICAgIH1cblxuICAgIC8vIGV4cG9ydCBvbkZpbHRlciBmdW5jdGlvbiB0byBhbGxvdyB1c2VycyB0byBhY2Nlc3NcbiAgICBpZiAoZ2V0RmlsdGVyKSB7XG4gICAgICBnZXRGaWx0ZXIoKGZpbHRlclZhbCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7IHZhbHVlOiBmaWx0ZXJWYWwgfSkpO1xuICAgICAgICBvbkZpbHRlcihjb2x1bW4sIEZJTFRFUl9UWVBFLlRFWFQpKGZpbHRlclZhbCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLmNsZWFuVGltZXIoKTtcbiAgfVxuXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmIChuZXh0UHJvcHMuZGVmYXVsdFZhbHVlICE9PSB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgdGhpcy5hcHBseUZpbHRlcihuZXh0UHJvcHMuZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBmaWx0ZXIoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5jbGVhblRpbWVyKCk7XG4gICAgY29uc3QgZmlsdGVyVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7IHZhbHVlOiBmaWx0ZXJWYWx1ZSB9KSk7XG4gICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLm9uRmlsdGVyKHRoaXMucHJvcHMuY29sdW1uLCBGSUxURVJfVFlQRS5URVhUKShmaWx0ZXJWYWx1ZSk7XG4gICAgfSwgdGhpcy5wcm9wcy5kZWxheSk7XG4gIH1cblxuICBjbGVhblRpbWVyKCkge1xuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFuRmlsdGVyZWQoKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7IHZhbHVlIH0pKTtcbiAgICB0aGlzLnByb3BzLm9uRmlsdGVyKHRoaXMucHJvcHMuY29sdW1uLCBGSUxURVJfVFlQRS5URVhUKSh2YWx1ZSk7XG4gIH1cblxuICBhcHBseUZpbHRlcihmaWx0ZXJUZXh0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoeyB2YWx1ZTogZmlsdGVyVGV4dCB9KSk7XG4gICAgdGhpcy5wcm9wcy5vbkZpbHRlcih0aGlzLnByb3BzLmNvbHVtbiwgRklMVEVSX1RZUEUuVEVYVCkoZmlsdGVyVGV4dCk7XG4gIH1cblxuICBoYW5kbGVDbGljayhlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkNsaWNrKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2xpY2soZSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICBjb2x1bW46IHsgZGF0YUZpZWxkLCB0ZXh0IH0sXG4gICAgICBzdHlsZSxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIG9uRmlsdGVyLFxuICAgICAgY2FzZVNlbnNpdGl2ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgIGdldEZpbHRlcixcbiAgICAgIGZpbHRlclN0YXRlLFxuICAgICAgLi4ucmVzdFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgZWxtSWQgPSBgdGV4dC1maWx0ZXItY29sdW1uLSR7ZGF0YUZpZWxkfSR7aWQgPyBgLSR7aWR9YCA6ICcnfWA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxhYmVsXG4gICAgICAgIGNsYXNzTmFtZT1cImZpbHRlci1sYWJlbFwiXG4gICAgICAgIGh0bWxGb3I9eyBlbG1JZCB9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5GaWx0ZXIgYnkge3RleHR9PC9zcGFuPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB7IC4uLnJlc3QgfVxuICAgICAgICAgIHJlZj17IG4gPT4gdGhpcy5pbnB1dCA9IG4gfVxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBpZD17IGVsbUlkIH1cbiAgICAgICAgICBjbGFzc05hbWU9eyBgZmlsdGVyIHRleHQtZmlsdGVyIGZvcm0tY29udHJvbCAke2NsYXNzTmFtZX1gIH1cbiAgICAgICAgICBzdHlsZT17IHN0eWxlIH1cbiAgICAgICAgICBvbkNoYW5nZT17IHRoaXMuZmlsdGVyIH1cbiAgICAgICAgICBvbkNsaWNrPXsgdGhpcy5oYW5kbGVDbGljayB9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9eyBwbGFjZWhvbGRlciB8fCBgRW50ZXIgJHt0ZXh0fS4uLmAgfVxuICAgICAgICAgIHZhbHVlPXsgdGhpcy5zdGF0ZS52YWx1ZSB9XG4gICAgICAgIC8+XG4gICAgICA8L2xhYmVsPlxuICAgICk7XG4gIH1cbn1cblxuVGV4dEZpbHRlci5wcm9wVHlwZXMgPSB7XG4gIG9uRmlsdGVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBjb2x1bW46IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGZpbHRlclN0YXRlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBjb21wYXJhdG9yOiBQcm9wVHlwZXMub25lT2YoW0xJS0UsIEVRXSksXG4gIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgZGVsYXk6IFByb3BUeXBlcy5udW1iZXIsXG4gIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjYXNlU2Vuc2l0aXZlOiBQcm9wVHlwZXMuYm9vbCxcbiAgZ2V0RmlsdGVyOiBQcm9wVHlwZXMuZnVuY1xufTtcblxuVGV4dEZpbHRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGRlbGF5OiBGSUxURVJfREVMQVksXG4gIGZpbHRlclN0YXRlOiB7fSxcbiAgZGVmYXVsdFZhbHVlOiAnJyxcbiAgY2FzZVNlbnNpdGl2ZTogZmFsc2UsXG4gIGlkOiBudWxsXG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IFRleHRGaWx0ZXI7XG4iLCIvKiBlc2xpbnQgcmVhY3QvcmVxdWlyZS1kZWZhdWx0LXByb3BzOiAwICovXG4vKiBlc2xpbnQgbm8tcmV0dXJuLWFzc2lnbjogMCAqL1xuLyogZXNsaW50IHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzOiAwICovXG4vKiBlc2xpbnQgY2xhc3MtbWV0aG9kcy11c2UtdGhpczogMCAqL1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBMSUtFLCBFUSB9IGZyb20gJy4uL2NvbXBhcmlzb24nO1xuaW1wb3J0IHsgRklMVEVSX1RZUEUgfSBmcm9tICcuLi9jb25zdCc7XG5cbmZ1bmN0aW9uIG9wdGlvbnNFcXVhbHMoY3Vyck9wdHMsIHByZXZPcHRzKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGN1cnJPcHRzKSkge1xuICAgIGlmIChjdXJyT3B0cy5sZW5ndGggPT09IHByZXZPcHRzLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyT3B0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY3Vyck9wdHNbaV0udmFsdWUgIT09IHByZXZPcHRzW2ldLnZhbHVlIHx8XG4gICAgICAgICAgY3Vyck9wdHNbaV0ubGFiZWwgIT09IHByZXZPcHRzW2ldLmxhYmVsXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoY3Vyck9wdHMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoY3Vyck9wdHNba2V5c1tpXV0gIT09IHByZXZPcHRzW2tleXNbaV1dKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBPYmplY3Qua2V5cyhjdXJyT3B0cykubGVuZ3RoID09PSBPYmplY3Qua2V5cyhwcmV2T3B0cykubGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBnZXRPcHRpb25WYWx1ZShvcHRpb25zLCBrZXkpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICBjb25zdCByZXN1bHQgPSBvcHRpb25zXG4gICAgICAuZmlsdGVyKCh7IGxhYmVsIH0pID0+IGxhYmVsID09PSBrZXkpXG4gICAgICAubWFwKCh7IHZhbHVlIH0pID0+IHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdO1xuICB9XG4gIHJldHVybiBvcHRpb25zW2tleV07XG59XG5cbmNsYXNzIFNlbGVjdEZpbHRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuZmlsdGVyID0gdGhpcy5maWx0ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMocHJvcHMpO1xuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBnZXRPcHRpb25WYWx1ZSh0aGlzLm9wdGlvbnMsIHRoaXMuZ2V0RGVmYXVsdFZhbHVlKCkpICE9PSB1bmRlZmluZWQ7XG4gICAgdGhpcy5zdGF0ZSA9IHsgaXNTZWxlY3RlZCB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBjb2x1bW4sIG9uRmlsdGVyLCBnZXRGaWx0ZXIgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc2VsZWN0SW5wdXQudmFsdWU7XG4gICAgaWYgKHZhbHVlICYmIHZhbHVlICE9PSAnJykge1xuICAgICAgb25GaWx0ZXIoY29sdW1uLCBGSUxURVJfVFlQRS5TRUxFQ1QsIHRydWUpKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBleHBvcnQgb25GaWx0ZXIgZnVuY3Rpb24gdG8gYWxsb3cgdXNlcnMgdG8gYWNjZXNzXG4gICAgaWYgKGdldEZpbHRlcikge1xuICAgICAgZ2V0RmlsdGVyKChmaWx0ZXJWYWwpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoeyBpc1NlbGVjdGVkOiBmaWx0ZXJWYWwgIT09ICcnIH0pKTtcbiAgICAgICAgdGhpcy5zZWxlY3RJbnB1dC52YWx1ZSA9IGZpbHRlclZhbDtcblxuICAgICAgICBvbkZpbHRlcihjb2x1bW4sIEZJTFRFUl9UWVBFLlNFTEVDVCkoZmlsdGVyVmFsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBsZXQgbmVlZEZpbHRlciA9IGZhbHNlO1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbHVtbixcbiAgICAgIG9uRmlsdGVyLFxuICAgICAgZGVmYXVsdFZhbHVlXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgbmV4dE9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnModGhpcy5wcm9wcyk7XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gcHJldlByb3BzLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgbmVlZEZpbHRlciA9IHRydWU7XG4gICAgfSBlbHNlIGlmICghb3B0aW9uc0VxdWFscyhuZXh0T3B0aW9ucywgdGhpcy5vcHRpb25zKSkge1xuICAgICAgdGhpcy5vcHRpb25zID0gbmV4dE9wdGlvbnM7XG4gICAgICBuZWVkRmlsdGVyID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5lZWRGaWx0ZXIpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zZWxlY3RJbnB1dC52YWx1ZTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBvbkZpbHRlcihjb2x1bW4sIEZJTFRFUl9UWVBFLlNFTEVDVCkodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldE9wdGlvbnMocHJvcHMpIHtcbiAgICByZXR1cm4gdHlwZW9mIHByb3BzLm9wdGlvbnMgPT09ICdmdW5jdGlvbicgPyBwcm9wcy5vcHRpb25zKHByb3BzLmNvbHVtbikgOiBwcm9wcy5vcHRpb25zO1xuICB9XG5cbiAgZ2V0RGVmYXVsdFZhbHVlKCkge1xuICAgIGNvbnN0IHsgZmlsdGVyU3RhdGUsIGRlZmF1bHRWYWx1ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZmlsdGVyU3RhdGUgJiYgdHlwZW9mIGZpbHRlclN0YXRlLmZpbHRlclZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBmaWx0ZXJTdGF0ZS5maWx0ZXJWYWw7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cblxuICBjbGVhbkZpbHRlcmVkKCkge1xuICAgIGNvbnN0IHZhbHVlID0gKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpID8gdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWUgOiAnJztcbiAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7IGlzU2VsZWN0ZWQ6IHZhbHVlICE9PSAnJyB9KSk7XG4gICAgdGhpcy5zZWxlY3RJbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMucHJvcHMub25GaWx0ZXIodGhpcy5wcm9wcy5jb2x1bW4sIEZJTFRFUl9UWVBFLlNFTEVDVCkodmFsdWUpO1xuICB9XG5cbiAgYXBwbHlGaWx0ZXIodmFsdWUpIHtcbiAgICB0aGlzLnNlbGVjdElucHV0LnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoeyBpc1NlbGVjdGVkOiB2YWx1ZSAhPT0gJycgfSkpO1xuICAgIHRoaXMucHJvcHMub25GaWx0ZXIodGhpcy5wcm9wcy5jb2x1bW4sIEZJTFRFUl9UWVBFLlNFTEVDVCkodmFsdWUpO1xuICB9XG5cbiAgZmlsdGVyKGUpIHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcbiAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7IGlzU2VsZWN0ZWQ6IHZhbHVlICE9PSAnJyB9KSk7XG4gICAgdGhpcy5wcm9wcy5vbkZpbHRlcih0aGlzLnByb3BzLmNvbHVtbiwgRklMVEVSX1RZUEUuU0VMRUNUKSh2YWx1ZSk7XG4gIH1cblxuICByZW5kZXJPcHRpb25zKCkge1xuICAgIGNvbnN0IG9wdGlvblRhZ3MgPSBbXTtcbiAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBwbGFjZWhvbGRlciwgY29sdW1uLCB3aXRob3V0RW1wdHlPcHRpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCF3aXRob3V0RW1wdHlPcHRpb24pIHtcbiAgICAgIG9wdGlvblRhZ3MucHVzaCgoXG4gICAgICAgIDxvcHRpb24ga2V5PVwiLTFcIiB2YWx1ZT1cIlwiPnsgcGxhY2Vob2xkZXIgfHwgYFNlbGVjdCAke2NvbHVtbi50ZXh0fS4uLmAgfTwvb3B0aW9uPlxuICAgICAgKSk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zLmZvckVhY2goKHsgdmFsdWUsIGxhYmVsIH0pID0+XG4gICAgICAgIG9wdGlvblRhZ3MucHVzaCg8b3B0aW9uIGtleT17IHZhbHVlIH0gdmFsdWU9eyB2YWx1ZSB9PnsgbGFiZWwgfTwvb3B0aW9uPikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGtleSA9PlxuICAgICAgICBvcHRpb25UYWdzLnB1c2goPG9wdGlvbiBrZXk9eyBrZXkgfSB2YWx1ZT17IGtleSB9Pnsgb3B0aW9uc1trZXldIH08L29wdGlvbj4pXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9uVGFncztcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIHN0eWxlLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgb25GaWx0ZXIsXG4gICAgICBjb2x1bW4sXG4gICAgICBvcHRpb25zLFxuICAgICAgY29tcGFyYXRvcixcbiAgICAgIHdpdGhvdXRFbXB0eU9wdGlvbixcbiAgICAgIGNhc2VTZW5zaXRpdmUsXG4gICAgICBnZXRGaWx0ZXIsXG4gICAgICBmaWx0ZXJTdGF0ZSxcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHNlbGVjdENsYXNzID1cbiAgICAgIGBmaWx0ZXIgc2VsZWN0LWZpbHRlciBmb3JtLWNvbnRyb2wgJHtjbGFzc05hbWV9ICR7dGhpcy5zdGF0ZS5pc1NlbGVjdGVkID8gJycgOiAncGxhY2Vob2xkZXItc2VsZWN0ZWQnfWA7XG4gICAgY29uc3QgZWxtSWQgPSBgc2VsZWN0LWZpbHRlci1jb2x1bW4tJHtjb2x1bW4uZGF0YUZpZWxkfSR7aWQgPyBgLSR7aWR9YCA6ICcnfWA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxhYmVsXG4gICAgICAgIGNsYXNzTmFtZT1cImZpbHRlci1sYWJlbFwiXG4gICAgICAgIGh0bWxGb3I9eyBlbG1JZCB9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5GaWx0ZXIgYnkgeyBjb2x1bW4udGV4dCB9PC9zcGFuPlxuICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgeyAuLi5yZXN0IH1cbiAgICAgICAgICByZWY9eyBuID0+IHRoaXMuc2VsZWN0SW5wdXQgPSBuIH1cbiAgICAgICAgICBpZD17IGVsbUlkIH1cbiAgICAgICAgICBzdHlsZT17IHN0eWxlIH1cbiAgICAgICAgICBjbGFzc05hbWU9eyBzZWxlY3RDbGFzcyB9XG4gICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLmZpbHRlciB9XG4gICAgICAgICAgb25DbGljaz17IGUgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSB9XG4gICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdGhpcy5nZXREZWZhdWx0VmFsdWUoKSB8fCAnJyB9XG4gICAgICAgID5cbiAgICAgICAgICB7IHRoaXMucmVuZGVyT3B0aW9ucygpIH1cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICA8L2xhYmVsPlxuICAgICk7XG4gIH1cbn1cblxuU2VsZWN0RmlsdGVyLnByb3BUeXBlcyA9IHtcbiAgb25GaWx0ZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGNvbHVtbjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgZmlsdGVyU3RhdGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIG9wdGlvbnM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5vYmplY3QsIFByb3BUeXBlcy5hcnJheV0pLmlzUmVxdWlyZWQsXG4gIGNvbXBhcmF0b3I6IFByb3BUeXBlcy5vbmVPZihbTElLRSwgRVFdKSxcbiAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHdpdGhvdXRFbXB0eU9wdGlvbjogUHJvcFR5cGVzLmJvb2wsXG4gIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLmFueSxcbiAgY2FzZVNlbnNpdGl2ZTogUHJvcFR5cGVzLmJvb2wsXG4gIGdldEZpbHRlcjogUHJvcFR5cGVzLmZ1bmNcbn07XG5cblNlbGVjdEZpbHRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGRlZmF1bHRWYWx1ZTogJycsXG4gIGZpbHRlclN0YXRlOiB7fSxcbiAgY2xhc3NOYW1lOiAnJyxcbiAgd2l0aG91dEVtcHR5T3B0aW9uOiBmYWxzZSxcbiAgY29tcGFyYXRvcjogRVEsXG4gIGNhc2VTZW5zaXRpdmU6IHRydWUsXG4gIGlkOiBudWxsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RGaWx0ZXI7XG4iLCIvKiBlc2xpbnQgcmVhY3QvcmVxdWlyZS1kZWZhdWx0LXByb3BzOiAwICovXG4vKiBlc2xpbnQgbm8tcmV0dXJuLWFzc2lnbjogMCAqL1xuLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiAwICovXG4vKiBlc2xpbnQgcmVhY3Qvbm8tdW51c2VkLXByb3AtdHlwZXM6IDAgKi9cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgTElLRSwgRVEgfSBmcm9tICcuLi9jb21wYXJpc29uJztcbmltcG9ydCB7IEZJTFRFUl9UWVBFIH0gZnJvbSAnLi4vY29uc3QnO1xuXG5cbmZ1bmN0aW9uIG9wdGlvbnNFcXVhbHMoY3Vyck9wdHMsIHByZXZPcHRzKSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhjdXJyT3B0cyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChjdXJyT3B0c1trZXlzW2ldXSAhPT0gcHJldk9wdHNba2V5c1tpXV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5rZXlzKGN1cnJPcHRzKS5sZW5ndGggPT09IE9iamVjdC5rZXlzKHByZXZPcHRzKS5sZW5ndGg7XG59XG5cbmNvbnN0IGdldFNlbGVjdGlvbnMgPSAoY29udGFpbmVyKSA9PiB7XG4gIGlmIChjb250YWluZXIuc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oY29udGFpbmVyLnNlbGVjdGVkT3B0aW9ucykubWFwKGl0ZW0gPT4gaXRlbS52YWx1ZSk7XG4gIH1cbiAgY29uc3Qgc2VsZWN0aW9ucyA9IFtdO1xuICBjb25zdCB0b3RhbExlbiA9IGNvbnRhaW5lci5vcHRpb25zLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbExlbjsgaSArPSAxKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gY29udGFpbmVyLm9wdGlvbnMuaXRlbShpKTtcbiAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSBzZWxlY3Rpb25zLnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgfVxuICByZXR1cm4gc2VsZWN0aW9ucztcbn07XG5cbmNsYXNzIE11bHRpU2VsZWN0RmlsdGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXBwbHlGaWx0ZXIgPSB0aGlzLmFwcGx5RmlsdGVyLmJpbmQodGhpcyk7XG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IHByb3BzLmRlZmF1bHRWYWx1ZS5tYXAoaXRlbSA9PiBwcm9wcy5vcHRpb25zW2l0ZW1dKS5sZW5ndGggPiAwO1xuICAgIHRoaXMuc3RhdGUgPSB7IGlzU2VsZWN0ZWQgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgZ2V0RmlsdGVyIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgdmFsdWUgPSBnZXRTZWxlY3Rpb25zKHRoaXMuc2VsZWN0SW5wdXQpO1xuICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmFwcGx5RmlsdGVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBleHBvcnQgb25GaWx0ZXIgZnVuY3Rpb24gdG8gYWxsb3cgdXNlcnMgdG8gYWNjZXNzXG4gICAgaWYgKGdldEZpbHRlcikge1xuICAgICAgZ2V0RmlsdGVyKChmaWx0ZXJWYWwpID0+IHtcbiAgICAgICAgdGhpcy5zZWxlY3RJbnB1dC52YWx1ZSA9IGZpbHRlclZhbDtcbiAgICAgICAgdGhpcy5hcHBseUZpbHRlcihmaWx0ZXJWYWwpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGxldCBuZWVkRmlsdGVyID0gZmFsc2U7XG4gICAgaWYgKHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlICE9PSBwcmV2UHJvcHMuZGVmYXVsdFZhbHVlKSB7XG4gICAgICBuZWVkRmlsdGVyID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCFvcHRpb25zRXF1YWxzKHRoaXMucHJvcHMub3B0aW9ucywgcHJldlByb3BzLm9wdGlvbnMpKSB7XG4gICAgICBuZWVkRmlsdGVyID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5lZWRGaWx0ZXIpIHtcbiAgICAgIHRoaXMuYXBwbHlGaWx0ZXIoZ2V0U2VsZWN0aW9ucyh0aGlzLnNlbGVjdElucHV0KSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGVmYXVsdFZhbHVlKCkge1xuICAgIGNvbnN0IHsgZmlsdGVyU3RhdGUsIGRlZmF1bHRWYWx1ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZmlsdGVyU3RhdGUgJiYgdHlwZW9mIGZpbHRlclN0YXRlLmZpbHRlclZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBmaWx0ZXJTdGF0ZS5maWx0ZXJWYWw7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cblxuICBnZXRPcHRpb25zKCkge1xuICAgIGNvbnN0IG9wdGlvblRhZ3MgPSBbXTtcbiAgICBjb25zdCB7IG9wdGlvbnMsIHBsYWNlaG9sZGVyLCBjb2x1bW4sIHdpdGhvdXRFbXB0eU9wdGlvbiB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXdpdGhvdXRFbXB0eU9wdGlvbikge1xuICAgICAgb3B0aW9uVGFncy5wdXNoKChcbiAgICAgICAgPG9wdGlvbiBrZXk9XCItMVwiIHZhbHVlPVwiXCI+eyBwbGFjZWhvbGRlciB8fCBgU2VsZWN0ICR7Y29sdW1uLnRleHR9Li4uYCB9PC9vcHRpb24+XG4gICAgICApKTtcbiAgICB9XG4gICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChrZXkgPT5cbiAgICAgIG9wdGlvblRhZ3MucHVzaCg8b3B0aW9uIGtleT17IGtleSB9IHZhbHVlPXsga2V5IH0+eyBvcHRpb25zW2tleV0gfTwvb3B0aW9uPilcbiAgICApO1xuICAgIHJldHVybiBvcHRpb25UYWdzO1xuICB9XG5cbiAgY2xlYW5GaWx0ZXJlZCgpIHtcbiAgICBjb25zdCB2YWx1ZSA9ICh0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSA/IHRoaXMucHJvcHMuZGVmYXVsdFZhbHVlIDogW107XG4gICAgdGhpcy5zZWxlY3RJbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuYXBwbHlGaWx0ZXIodmFsdWUpO1xuICB9XG5cbiAgYXBwbHlGaWx0ZXIodmFsdWUpIHtcbiAgICBpZiAodmFsdWUubGVuZ3RoID09PSAxICYmIHZhbHVlWzBdID09PSAnJykge1xuICAgICAgdmFsdWUgPSBbXTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoeyBpc1NlbGVjdGVkOiB2YWx1ZS5sZW5ndGggPiAwIH0pKTtcbiAgICB0aGlzLnByb3BzLm9uRmlsdGVyKHRoaXMucHJvcHMuY29sdW1uLCBGSUxURVJfVFlQRS5NVUxUSVNFTEVDVCkodmFsdWUpO1xuICB9XG5cbiAgZmlsdGVyKGUpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGdldFNlbGVjdGlvbnMoZS50YXJnZXQpO1xuICAgIHRoaXMuYXBwbHlGaWx0ZXIodmFsdWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgc3R5bGUsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBmaWx0ZXJTdGF0ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgIG9uRmlsdGVyLFxuICAgICAgY29sdW1uLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGNvbXBhcmF0b3IsXG4gICAgICB3aXRob3V0RW1wdHlPcHRpb24sXG4gICAgICBjYXNlU2Vuc2l0aXZlLFxuICAgICAgZ2V0RmlsdGVyLFxuICAgICAgLi4ucmVzdFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3Qgc2VsZWN0Q2xhc3MgPVxuICAgICAgYGZpbHRlciBzZWxlY3QtZmlsdGVyIGZvcm0tY29udHJvbCAke2NsYXNzTmFtZX0gJHt0aGlzLnN0YXRlLmlzU2VsZWN0ZWQgPyAnJyA6ICdwbGFjZWhvbGRlci1zZWxlY3RlZCd9YDtcbiAgICBjb25zdCBlbG1JZCA9IGBtdWx0aXNlbGVjdC1maWx0ZXItY29sdW1uLSR7Y29sdW1uLmRhdGFGaWVsZH0ke2lkID8gYC0ke2lkfWAgOiAnJ31gO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsYWJlbFxuICAgICAgICBjbGFzc05hbWU9XCJmaWx0ZXItbGFiZWxcIlxuICAgICAgICBodG1sRm9yPXsgZWxtSWQgfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+RmlsdGVyIGJ5IHtjb2x1bW4udGV4dH08L3NwYW4+XG4gICAgICAgIDxzZWxlY3RcbiAgICAgICAgICB7IC4uLnJlc3QgfVxuICAgICAgICAgIHJlZj17IG4gPT4gdGhpcy5zZWxlY3RJbnB1dCA9IG4gfVxuICAgICAgICAgIGlkPXsgZWxtSWQgfVxuICAgICAgICAgIHN0eWxlPXsgc3R5bGUgfVxuICAgICAgICAgIG11bHRpcGxlXG4gICAgICAgICAgY2xhc3NOYW1lPXsgc2VsZWN0Q2xhc3MgfVxuICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5maWx0ZXIgfVxuICAgICAgICAgIG9uQ2xpY2s9eyBlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCkgfVxuICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRoaXMuZ2V0RGVmYXVsdFZhbHVlKCkgfVxuICAgICAgICA+XG4gICAgICAgICAgeyB0aGlzLmdldE9wdGlvbnMoKSB9XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgPC9sYWJlbD5cbiAgICApO1xuICB9XG59XG5cbk11bHRpU2VsZWN0RmlsdGVyLnByb3BUeXBlcyA9IHtcbiAgb25GaWx0ZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGNvbHVtbjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBvcHRpb25zOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBmaWx0ZXJTdGF0ZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgY29tcGFyYXRvcjogUHJvcFR5cGVzLm9uZU9mKFtMSUtFLCBFUV0pLFxuICBwbGFjZWhvbGRlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgd2l0aG91dEVtcHR5T3B0aW9uOiBQcm9wVHlwZXMuYm9vbCxcbiAgZGVmYXVsdFZhbHVlOiBQcm9wVHlwZXMuYXJyYXksXG4gIGNhc2VTZW5zaXRpdmU6IFByb3BUeXBlcy5ib29sLFxuICBnZXRGaWx0ZXI6IFByb3BUeXBlcy5mdW5jXG59O1xuXG5NdWx0aVNlbGVjdEZpbHRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGRlZmF1bHRWYWx1ZTogW10sXG4gIGZpbHRlclN0YXRlOiB7fSxcbiAgY2xhc3NOYW1lOiAnJyxcbiAgd2l0aG91dEVtcHR5T3B0aW9uOiBmYWxzZSxcbiAgY29tcGFyYXRvcjogRVEsXG4gIGNhc2VTZW5zaXRpdmU6IHRydWUsXG4gIGlkOiBudWxsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBNdWx0aVNlbGVjdEZpbHRlcjtcbiIsIi8qIGVzbGludCBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnM6IDAgKi9cbi8qIGVzbGludCByZWFjdC9yZXF1aXJlLWRlZmF1bHQtcHJvcHM6IDAgKi9cbi8qIGVzbGludCBuby1yZXR1cm4tYXNzaWduOiAwICovXG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0ICogYXMgQ29tcGFyYXRvciBmcm9tICcuLi9jb21wYXJpc29uJztcbmltcG9ydCB7IEZJTFRFUl9UWVBFLCBGSUxURVJfREVMQVkgfSBmcm9tICcuLi9jb25zdCc7XG5cbmNvbnN0IGxlZ2FsQ29tcGFyYXRvcnMgPSBbXG4gIENvbXBhcmF0b3IuRVEsXG4gIENvbXBhcmF0b3IuTkUsXG4gIENvbXBhcmF0b3IuR1QsXG4gIENvbXBhcmF0b3IuR0UsXG4gIENvbXBhcmF0b3IuTFQsXG4gIENvbXBhcmF0b3IuTEVcbl07XG5cbmNsYXNzIE51bWJlckZpbHRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuY29tcGFyYXRvcnMgPSBwcm9wcy5jb21wYXJhdG9ycyB8fCBsZWdhbENvbXBhcmF0b3JzO1xuICAgIHRoaXMudGltZW91dCA9IG51bGw7XG4gICAgbGV0IGlzU2VsZWN0ZWQgPSBwcm9wcy5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKHByb3BzLm9wdGlvbnMgJiYgaXNTZWxlY3RlZCkge1xuICAgICAgaXNTZWxlY3RlZCA9IHByb3BzLm9wdGlvbnMuaW5kZXhPZihwcm9wcy5kZWZhdWx0VmFsdWUubnVtYmVyKSA+IC0xO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0geyBpc1NlbGVjdGVkIH07XG4gICAgdGhpcy5vbkNoYW5nZU51bWJlciA9IHRoaXMub25DaGFuZ2VOdW1iZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2hhbmdlTnVtYmVyU2V0ID0gdGhpcy5vbkNoYW5nZU51bWJlclNldC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DaGFuZ2VDb21wYXJhdG9yID0gdGhpcy5vbkNoYW5nZUNvbXBhcmF0b3IuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgY29sdW1uLCBvbkZpbHRlciwgZ2V0RmlsdGVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGNvbXBhcmF0b3IgPSB0aGlzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWU7XG4gICAgY29uc3QgbnVtYmVyID0gdGhpcy5udW1iZXJGaWx0ZXIudmFsdWU7XG4gICAgaWYgKGNvbXBhcmF0b3IgJiYgbnVtYmVyKSB7XG4gICAgICBvbkZpbHRlcihjb2x1bW4sIEZJTFRFUl9UWVBFLk5VTUJFUiwgdHJ1ZSkoeyBudW1iZXIsIGNvbXBhcmF0b3IgfSk7XG4gICAgfVxuXG4gICAgLy8gZXhwb3J0IG9uRmlsdGVyIGZ1bmN0aW9uIHRvIGFsbG93IHVzZXJzIHRvIGFjY2Vzc1xuICAgIGlmIChnZXRGaWx0ZXIpIHtcbiAgICAgIGdldEZpbHRlcigoZmlsdGVyVmFsKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHsgaXNTZWxlY3RlZDogKGZpbHRlclZhbCAhPT0gJycpIH0pKTtcbiAgICAgICAgdGhpcy5udW1iZXJGaWx0ZXJDb21wYXJhdG9yLnZhbHVlID0gZmlsdGVyVmFsLmNvbXBhcmF0b3I7XG4gICAgICAgIHRoaXMubnVtYmVyRmlsdGVyLnZhbHVlID0gZmlsdGVyVmFsLm51bWJlcjtcblxuICAgICAgICBvbkZpbHRlcihjb2x1bW4sIEZJTFRFUl9UWVBFLk5VTUJFUikoe1xuICAgICAgICAgIG51bWJlcjogZmlsdGVyVmFsLm51bWJlcixcbiAgICAgICAgICBjb21wYXJhdG9yOiBmaWx0ZXJWYWwuY29tcGFyYXRvclxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICB9XG5cbiAgb25DaGFuZ2VOdW1iZXIoZSkge1xuICAgIGNvbnN0IHsgZGVsYXksIGNvbHVtbiwgb25GaWx0ZXIgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgY29tcGFyYXRvciA9IHRoaXMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZTtcbiAgICBpZiAoY29tcGFyYXRvciA9PT0gJycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgfVxuICAgIGNvbnN0IGZpbHRlclZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBvbkZpbHRlcihjb2x1bW4sIEZJTFRFUl9UWVBFLk5VTUJFUikoeyBudW1iZXI6IGZpbHRlclZhbHVlLCBjb21wYXJhdG9yIH0pO1xuICAgIH0sIGRlbGF5KTtcbiAgfVxuXG4gIG9uQ2hhbmdlTnVtYmVyU2V0KGUpIHtcbiAgICBjb25zdCB7IGNvbHVtbiwgb25GaWx0ZXIgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgY29tcGFyYXRvciA9IHRoaXMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZTtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBlLnRhcmdldDtcbiAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7IGlzU2VsZWN0ZWQ6ICh2YWx1ZSAhPT0gJycpIH0pKTtcbiAgICAvLyBpZiAoY29tcGFyYXRvciA9PT0gJycpIHtcbiAgICAvLyAgIHJldHVybjtcbiAgICAvLyB9XG4gICAgb25GaWx0ZXIoY29sdW1uLCBGSUxURVJfVFlQRS5OVU1CRVIpKHsgbnVtYmVyOiB2YWx1ZSwgY29tcGFyYXRvciB9KTtcbiAgfVxuXG4gIG9uQ2hhbmdlQ29tcGFyYXRvcihlKSB7XG4gICAgY29uc3QgeyBjb2x1bW4sIG9uRmlsdGVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5udW1iZXJGaWx0ZXIudmFsdWU7XG4gICAgY29uc3QgY29tcGFyYXRvciA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIC8vIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAvLyAgIHJldHVybjtcbiAgICAvLyB9XG4gICAgb25GaWx0ZXIoY29sdW1uLCBGSUxURVJfVFlQRS5OVU1CRVIpKHsgbnVtYmVyOiB2YWx1ZSwgY29tcGFyYXRvciB9KTtcbiAgfVxuXG4gIGdldERlZmF1bHRDb21wYXJhdG9yKCkge1xuICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlLCBmaWx0ZXJTdGF0ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZmlsdGVyU3RhdGUgJiYgZmlsdGVyU3RhdGUuZmlsdGVyVmFsKSB7XG4gICAgICByZXR1cm4gZmlsdGVyU3RhdGUuZmlsdGVyVmFsLmNvbXBhcmF0b3I7XG4gICAgfVxuICAgIGlmIChkZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlLmNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWUuY29tcGFyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgZ2V0RGVmYXVsdFZhbHVlKCkge1xuICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlLCBmaWx0ZXJTdGF0ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZmlsdGVyU3RhdGUgJiYgZmlsdGVyU3RhdGUuZmlsdGVyVmFsKSB7XG4gICAgICByZXR1cm4gZmlsdGVyU3RhdGUuZmlsdGVyVmFsLm51bWJlcjtcbiAgICB9XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSAmJiBkZWZhdWx0VmFsdWUubnVtYmVyKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlLm51bWJlcjtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgZ2V0Q29tcGFyYXRvck9wdGlvbnMoKSB7XG4gICAgY29uc3Qgb3B0aW9uVGFncyA9IFtdO1xuICAgIGNvbnN0IHsgd2l0aG91dEVtcHR5Q29tcGFyYXRvck9wdGlvbiB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXdpdGhvdXRFbXB0eUNvbXBhcmF0b3JPcHRpb24pIHtcbiAgICAgIG9wdGlvblRhZ3MucHVzaCg8b3B0aW9uIGtleT1cIi0xXCIgLz4pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29tcGFyYXRvcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIG9wdGlvblRhZ3MucHVzaChcbiAgICAgICAgPG9wdGlvbiBrZXk9eyBpIH0gdmFsdWU9eyB0aGlzLmNvbXBhcmF0b3JzW2ldIH0+XG4gICAgICAgICAgeyB0aGlzLmNvbXBhcmF0b3JzW2ldIH1cbiAgICAgICAgPC9vcHRpb24+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9uVGFncztcbiAgfVxuXG4gIGdldE51bWJlck9wdGlvbnMoKSB7XG4gICAgY29uc3Qgb3B0aW9uVGFncyA9IFtdO1xuICAgIGNvbnN0IHsgb3B0aW9ucywgY29sdW1uLCB3aXRob3V0RW1wdHlOdW1iZXJPcHRpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCF3aXRob3V0RW1wdHlOdW1iZXJPcHRpb24pIHtcbiAgICAgIG9wdGlvblRhZ3MucHVzaChcbiAgICAgICAgPG9wdGlvbiBrZXk9XCItMVwiIHZhbHVlPVwiXCI+XG4gICAgICAgICAgeyB0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8IGBTZWxlY3QgJHtjb2x1bW4udGV4dH0uLi5gIH1cbiAgICAgICAgPC9vcHRpb24+XG4gICAgICApO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIG9wdGlvblRhZ3MucHVzaCg8b3B0aW9uIGtleT17IGkgfSB2YWx1ZT17IG9wdGlvbnNbaV0gfT57IG9wdGlvbnNbaV0gfTwvb3B0aW9uPik7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25UYWdzO1xuICB9XG5cbiAgYXBwbHlGaWx0ZXIoZmlsdGVyT2JqKSB7XG4gICAgY29uc3QgeyBjb2x1bW4sIG9uRmlsdGVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgbnVtYmVyLCBjb21wYXJhdG9yIH0gPSBmaWx0ZXJPYmo7XG4gICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoeyBpc1NlbGVjdGVkOiAobnVtYmVyICE9PSAnJykgfSkpO1xuICAgIHRoaXMubnVtYmVyRmlsdGVyQ29tcGFyYXRvci52YWx1ZSA9IGNvbXBhcmF0b3I7XG4gICAgdGhpcy5udW1iZXJGaWx0ZXIudmFsdWUgPSBudW1iZXI7XG4gICAgb25GaWx0ZXIoY29sdW1uLCBGSUxURVJfVFlQRS5OVU1CRVIpKHsgbnVtYmVyLCBjb21wYXJhdG9yIH0pO1xuICB9XG5cbiAgY2xlYW5GaWx0ZXJlZCgpIHtcbiAgICBjb25zdCB7IGNvbHVtbiwgb25GaWx0ZXIsIGRlZmF1bHRWYWx1ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB2YWx1ZSA9IGRlZmF1bHRWYWx1ZSA/IGRlZmF1bHRWYWx1ZS5udW1iZXIgOiAnJztcbiAgICBjb25zdCBjb21wYXJhdG9yID0gZGVmYXVsdFZhbHVlID8gZGVmYXVsdFZhbHVlLmNvbXBhcmF0b3IgOiAnJztcbiAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7IGlzU2VsZWN0ZWQ6ICh2YWx1ZSAhPT0gJycpIH0pKTtcbiAgICB0aGlzLm51bWJlckZpbHRlckNvbXBhcmF0b3IudmFsdWUgPSBjb21wYXJhdG9yO1xuICAgIHRoaXMubnVtYmVyRmlsdGVyLnZhbHVlID0gdmFsdWU7XG4gICAgb25GaWx0ZXIoY29sdW1uLCBGSUxURVJfVFlQRS5OVU1CRVIpKHsgbnVtYmVyOiB2YWx1ZSwgY29tcGFyYXRvciB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGlzU2VsZWN0ZWQgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBjb2x1bW4sXG4gICAgICBvcHRpb25zLFxuICAgICAgc3R5bGUsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBudW1iZXJTdHlsZSxcbiAgICAgIG51bWJlckNsYXNzTmFtZSxcbiAgICAgIGNvbXBhcmF0b3JTdHlsZSxcbiAgICAgIGNvbXBhcmF0b3JDbGFzc05hbWUsXG4gICAgICBwbGFjZWhvbGRlclxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHNlbGVjdENsYXNzID0gYFxuICAgICAgc2VsZWN0LWZpbHRlciBcbiAgICAgIG51bWJlci1maWx0ZXItaW5wdXQgXG4gICAgICBmb3JtLWNvbnRyb2wgXG4gICAgICAke251bWJlckNsYXNzTmFtZX0gXG4gICAgICAkeyFpc1NlbGVjdGVkID8gJ3BsYWNlaG9sZGVyLXNlbGVjdGVkJyA6ICcnfVxuICAgIGA7XG5cbiAgICBjb25zdCBjb21wYXJhdG9yRWxtSWQgPSBgbnVtYmVyLWZpbHRlci1jb21wYXJhdG9yLSR7Y29sdW1uLmRhdGFGaWVsZH0ke2lkID8gYC0ke2lkfWAgOiAnJ31gO1xuICAgIGNvbnN0IGlucHV0RWxtSWQgPSBgbnVtYmVyLWZpbHRlci1jb2x1bW4tJHtjb2x1bW4uZGF0YUZpZWxkfSR7aWQgPyBgLSR7aWR9YCA6ICcnfWA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBvbkNsaWNrPXsgZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpIH1cbiAgICAgICAgY2xhc3NOYW1lPXsgYGZpbHRlciBudW1iZXItZmlsdGVyICR7Y2xhc3NOYW1lfWAgfVxuICAgICAgICBzdHlsZT17IHN0eWxlIH1cbiAgICAgID5cbiAgICAgICAgPGxhYmVsXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmlsdGVyLWxhYmVsXCJcbiAgICAgICAgICBodG1sRm9yPXsgY29tcGFyYXRvckVsbUlkIH1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5GaWx0ZXIgY29tcGFyYXRvcjwvc3Bhbj5cbiAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICByZWY9eyBuID0+IHRoaXMubnVtYmVyRmlsdGVyQ29tcGFyYXRvciA9IG4gfVxuICAgICAgICAgICAgc3R5bGU9eyBjb21wYXJhdG9yU3R5bGUgfVxuICAgICAgICAgICAgaWQ9eyBjb21wYXJhdG9yRWxtSWQgfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXsgYG51bWJlci1maWx0ZXItY29tcGFyYXRvciBmb3JtLWNvbnRyb2wgJHtjb21wYXJhdG9yQ2xhc3NOYW1lfWAgfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlQ29tcGFyYXRvciB9XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU9eyB0aGlzLmdldERlZmF1bHRDb21wYXJhdG9yKCkgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsgdGhpcy5nZXRDb21wYXJhdG9yT3B0aW9ucygpIH1cbiAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAge1xuICAgICAgICAgIG9wdGlvbnMgP1xuICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpbHRlci1sYWJlbFwiXG4gICAgICAgICAgICAgIGh0bWxGb3I9eyBpbnB1dEVsbUlkIH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPntgU2VsZWN0ICR7Y29sdW1uLnRleHR9YH08L3NwYW4+XG4gICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICByZWY9eyBuID0+IHRoaXMubnVtYmVyRmlsdGVyID0gbiB9XG4gICAgICAgICAgICAgICAgaWQ9eyBpbnB1dEVsbUlkIH1cbiAgICAgICAgICAgICAgICBzdHlsZT17IG51bWJlclN0eWxlIH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyBzZWxlY3RDbGFzcyB9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyB0aGlzLm9uQ2hhbmdlTnVtYmVyU2V0IH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9eyB0aGlzLmdldERlZmF1bHRWYWx1ZSgpIH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHsgdGhpcy5nZXROdW1iZXJPcHRpb25zKCkgfVxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvbGFiZWw+IDpcbiAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXsgaW5wdXRFbG1JZCB9PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+e2BFbnRlciAke2NvbHVtbi50ZXh0fWB9PC9zcGFuPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICByZWY9eyBuID0+IHRoaXMubnVtYmVyRmlsdGVyID0gbiB9XG4gICAgICAgICAgICAgICAgaWQ9eyBpbnB1dEVsbUlkIH1cbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17IG51bWJlclN0eWxlIH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyBgbnVtYmVyLWZpbHRlci1pbnB1dCBmb3JtLWNvbnRyb2wgJHtudW1iZXJDbGFzc05hbWV9YCB9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9eyBwbGFjZWhvbGRlciB8fCBgRW50ZXIgJHtjb2x1bW4udGV4dH0uLi5gIH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2VOdW1iZXIgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRoaXMuZ2V0RGVmYXVsdFZhbHVlKCkgfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5OdW1iZXJGaWx0ZXIucHJvcFR5cGVzID0ge1xuICBvbkZpbHRlcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgY29sdW1uOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBmaWx0ZXJTdGF0ZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgb3B0aW9uczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXG4gIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBudW1iZXI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKSxcbiAgICBjb21wYXJhdG9yOiBQcm9wVHlwZXMub25lT2YoWy4uLmxlZ2FsQ29tcGFyYXRvcnMsICcnXSlcbiAgfSksXG4gIGRlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuICAvKiBlc2xpbnQgY29uc2lzdGVudC1yZXR1cm46IDAgKi9cbiAgY29tcGFyYXRvcnM6IChwcm9wcywgcHJvcE5hbWUpID0+IHtcbiAgICBpZiAoIXByb3BzW3Byb3BOYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzW3Byb3BOYW1lXS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgbGV0IGNvbXBhcmF0b3JJc1ZhbGlkID0gZmFsc2U7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxlZ2FsQ29tcGFyYXRvcnMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgaWYgKGxlZ2FsQ29tcGFyYXRvcnNbal0gPT09IHByb3BzW3Byb3BOYW1lXVtpXSB8fCBwcm9wc1twcm9wTmFtZV1baV0gPT09ICcnKSB7XG4gICAgICAgICAgY29tcGFyYXRvcklzVmFsaWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWNvbXBhcmF0b3JJc1ZhbGlkKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoYE51bWJlciBjb21wYXJhdG9yIHByb3ZpZGVkIGlzIG5vdCBzdXBwb3J0ZWQuXG4gICAgICAgICAgVXNlIG9ubHkgJHtsZWdhbENvbXBhcmF0b3JzfWApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHdpdGhvdXRFbXB0eUNvbXBhcmF0b3JPcHRpb246IFByb3BUeXBlcy5ib29sLFxuICB3aXRob3V0RW1wdHlOdW1iZXJPcHRpb246IFByb3BUeXBlcy5ib29sLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjb21wYXJhdG9yU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNvbXBhcmF0b3JDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIG51bWJlclN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBudW1iZXJDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGdldEZpbHRlcjogUHJvcFR5cGVzLmZ1bmNcbn07XG5cbk51bWJlckZpbHRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIGRlbGF5OiBGSUxURVJfREVMQVksXG4gIG9wdGlvbnM6IHVuZGVmaW5lZCxcbiAgZGVmYXVsdFZhbHVlOiB7XG4gICAgbnVtYmVyOiB1bmRlZmluZWQsXG4gICAgY29tcGFyYXRvcjogJydcbiAgfSxcbiAgZmlsdGVyU3RhdGU6IHt9LFxuICB3aXRob3V0RW1wdHlDb21wYXJhdG9yT3B0aW9uOiBmYWxzZSxcbiAgd2l0aG91dEVtcHR5TnVtYmVyT3B0aW9uOiBmYWxzZSxcbiAgY29tcGFyYXRvcnM6IGxlZ2FsQ29tcGFyYXRvcnMsXG4gIHBsYWNlaG9sZGVyOiB1bmRlZmluZWQsXG4gIHN0eWxlOiB1bmRlZmluZWQsXG4gIGNsYXNzTmFtZTogJycsXG4gIGNvbXBhcmF0b3JTdHlsZTogdW5kZWZpbmVkLFxuICBjb21wYXJhdG9yQ2xhc3NOYW1lOiAnJyxcbiAgbnVtYmVyU3R5bGU6IHVuZGVmaW5lZCxcbiAgbnVtYmVyQ2xhc3NOYW1lOiAnJyxcbiAgaWQ6IG51bGxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE51bWJlckZpbHRlcjtcbiIsIi8qIGVzbGludCByZWFjdC9yZXF1aXJlLWRlZmF1bHQtcHJvcHM6IDAgKi9cbi8qIGVzbGludCBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnM6IDAgKi9cbi8qIGVzbGludCBuby1yZXR1cm4tYXNzaWduOiAwICovXG4vKiBlc2xpbnQgcHJlZmVyLXRlbXBsYXRlOiAwICovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUHJvcFR5cGVzIH0gZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCAqIGFzIENvbXBhcmF0b3IgZnJvbSAnLi4vY29tcGFyaXNvbic7XG5pbXBvcnQgeyBGSUxURVJfVFlQRSB9IGZyb20gJy4uL2NvbnN0JztcblxuY29uc3QgbGVnYWxDb21wYXJhdG9ycyA9IFtcbiAgQ29tcGFyYXRvci5FUSxcbiAgQ29tcGFyYXRvci5ORSxcbiAgQ29tcGFyYXRvci5HVCxcbiAgQ29tcGFyYXRvci5HRSxcbiAgQ29tcGFyYXRvci5MVCxcbiAgQ29tcGFyYXRvci5MRVxuXTtcblxuZnVuY3Rpb24gZGF0ZVBhcnNlcihkKSB7XG4gIHJldHVybiBgJHtkLmdldFVUQ0Z1bGxZZWFyKCl9LSR7KCcwJyArIChkLmdldFVUQ01vbnRoKCkgKyAxKSkuc2xpY2UoLTIpfS0keygnMCcgKyBkLmdldFVUQ0RhdGUoKSkuc2xpY2UoLTIpfWA7XG59XG5cbmNsYXNzIERhdGVGaWx0ZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMuY29tcGFyYXRvcnMgPSBwcm9wcy5jb21wYXJhdG9ycyB8fCBsZWdhbENvbXBhcmF0b3JzO1xuICAgIHRoaXMuYXBwbHlGaWx0ZXIgPSB0aGlzLmFwcGx5RmlsdGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNoYW5nZURhdGUgPSB0aGlzLm9uQ2hhbmdlRGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DaGFuZ2VDb21wYXJhdG9yID0gdGhpcy5vbkNoYW5nZUNvbXBhcmF0b3IuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgZ2V0RmlsdGVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGNvbXBhcmF0b3IgPSB0aGlzLmRhdGVGaWx0ZXJDb21wYXJhdG9yLnZhbHVlO1xuICAgIGNvbnN0IGRhdGUgPSB0aGlzLmlucHV0RGF0ZS52YWx1ZTtcbiAgICBpZiAoY29tcGFyYXRvciAmJiBkYXRlKSB7XG4gICAgICB0aGlzLmFwcGx5RmlsdGVyKGRhdGUsIGNvbXBhcmF0b3IsIHRydWUpO1xuICAgIH1cblxuICAgIC8vIGV4cG9ydCBvbkZpbHRlciBmdW5jdGlvbiB0byBhbGxvdyB1c2VycyB0byBhY2Nlc3NcbiAgICBpZiAoZ2V0RmlsdGVyKSB7XG4gICAgICBnZXRGaWx0ZXIoKGZpbHRlclZhbCkgPT4ge1xuICAgICAgICBjb25zdCBudWxsYWJsZUZpbHRlclZhbCA9IGZpbHRlclZhbCB8fCB7IGRhdGU6IG51bGwsIGNvbXBhcmF0b3I6IG51bGwgfTtcbiAgICAgICAgdGhpcy5kYXRlRmlsdGVyQ29tcGFyYXRvci52YWx1ZSA9IG51bGxhYmxlRmlsdGVyVmFsLmNvbXBhcmF0b3I7XG4gICAgICAgIHRoaXMuaW5wdXREYXRlLnZhbHVlID0gbnVsbGFibGVGaWx0ZXJWYWwuZGF0ZSA/IGRhdGVQYXJzZXIobnVsbGFibGVGaWx0ZXJWYWwuZGF0ZSkgOiBudWxsO1xuXG4gICAgICAgIHRoaXMuYXBwbHlGaWx0ZXIobnVsbGFibGVGaWx0ZXJWYWwuZGF0ZSwgbnVsbGFibGVGaWx0ZXJWYWwuY29tcGFyYXRvcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy50aW1lb3V0KSBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgfVxuXG4gIG9uQ2hhbmdlRGF0ZShlKSB7XG4gICAgY29uc3QgY29tcGFyYXRvciA9IHRoaXMuZGF0ZUZpbHRlckNvbXBhcmF0b3IudmFsdWU7XG4gICAgY29uc3QgZmlsdGVyVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICB0aGlzLmFwcGx5RmlsdGVyKGZpbHRlclZhbHVlLCBjb21wYXJhdG9yKTtcbiAgfVxuXG4gIG9uQ2hhbmdlQ29tcGFyYXRvcihlKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLmlucHV0RGF0ZS52YWx1ZTtcbiAgICBjb25zdCBjb21wYXJhdG9yID0gZS50YXJnZXQudmFsdWU7XG4gICAgdGhpcy5hcHBseUZpbHRlcih2YWx1ZSwgY29tcGFyYXRvcik7XG4gIH1cblxuICBnZXRDb21wYXJhdG9yT3B0aW9ucygpIHtcbiAgICBjb25zdCBvcHRpb25UYWdzID0gW107XG4gICAgY29uc3QgeyB3aXRob3V0RW1wdHlDb21wYXJhdG9yT3B0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghd2l0aG91dEVtcHR5Q29tcGFyYXRvck9wdGlvbikge1xuICAgICAgb3B0aW9uVGFncy5wdXNoKDxvcHRpb24ga2V5PVwiLTFcIiAvPik7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb21wYXJhdG9ycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgb3B0aW9uVGFncy5wdXNoKFxuICAgICAgICA8b3B0aW9uIGtleT17IGkgfSB2YWx1ZT17IHRoaXMuY29tcGFyYXRvcnNbaV0gfT5cbiAgICAgICAgICB7IHRoaXMuY29tcGFyYXRvcnNbaV0gfVxuICAgICAgICA8L29wdGlvbj5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25UYWdzO1xuICB9XG5cbiAgZ2V0RGVmYXVsdENvbXBhcmF0b3IoKSB7XG4gICAgY29uc3QgeyBkZWZhdWx0VmFsdWUsIGZpbHRlclN0YXRlIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChmaWx0ZXJTdGF0ZSAmJiBmaWx0ZXJTdGF0ZS5maWx0ZXJWYWwpIHtcbiAgICAgIHJldHVybiBmaWx0ZXJTdGF0ZS5maWx0ZXJWYWwuY29tcGFyYXRvcjtcbiAgICB9XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSAmJiBkZWZhdWx0VmFsdWUuY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZS5jb21wYXJhdG9yO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBnZXREZWZhdWx0RGF0ZSgpIHtcbiAgICAvLyBTZXQgdGhlIGFwcHJvcHJpYXRlIGZvcm1hdCBmb3IgdGhlIGlucHV0IHR5cGU9ZGF0ZSwgaS5lLiBcIllZWVktTU0tRERcIlxuICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlLCBmaWx0ZXJTdGF0ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZmlsdGVyU3RhdGUgJiYgZmlsdGVyU3RhdGUuZmlsdGVyVmFsICYmIGZpbHRlclN0YXRlLmZpbHRlclZhbC5kYXRlKSB7XG4gICAgICByZXR1cm4gZGF0ZVBhcnNlcihmaWx0ZXJTdGF0ZS5maWx0ZXJWYWwuZGF0ZSk7XG4gICAgfVxuICAgIGlmIChkZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlLmRhdGUpIHtcbiAgICAgIHJldHVybiBkYXRlUGFyc2VyKG5ldyBEYXRlKGRlZmF1bHRWYWx1ZS5kYXRlKSk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGFwcGx5RmlsdGVyKHZhbHVlLCBjb21wYXJhdG9yLCBpc0luaXRpYWwpIHtcbiAgICAvLyBpZiAoIWNvbXBhcmF0b3IgfHwgIXZhbHVlKSB7XG4gICAgLy8gIHJldHVybjtcbiAgICAvLyB9XG4gICAgY29uc3QgeyBjb2x1bW4sIG9uRmlsdGVyLCBkZWxheSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBleGVjdXRlID0gKCkgPT4ge1xuICAgICAgLy8gSW5jb21pbmcgdmFsdWUgc2hvdWxkIGFsd2F5cyBiZSBhIHN0cmluZywgYW5kIHRoZSBkZWZhdWx0RGF0ZVxuICAgICAgLy8gYWJvdmUgaXMgaW1wbGVtZW50ZWQgYXMgYW4gZW1wdHkgc3RyaW5nLCBzbyB3ZSBjYW4ganVzdCBjaGVjayBmb3IgdGhhdC5cbiAgICAgIC8vIGluc3RlYWQgb2YgcGFyc2luZyBhbiBpbnZhbGlkIERhdGUuIFRoZSBmaWx0ZXIgZnVuY3Rpb24gd2lsbCBpbnRlcnByZXRcbiAgICAgIC8vIG51bGwgYXMgYW4gZW1wdHkgZGF0ZSBmaWVsZFxuICAgICAgY29uc3QgZGF0ZSA9IHZhbHVlID09PSAnJyA/IG51bGwgOiBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICBvbkZpbHRlcihjb2x1bW4sIEZJTFRFUl9UWVBFLkRBVEUsIGlzSW5pdGlhbCkoeyBkYXRlLCBjb21wYXJhdG9yIH0pO1xuICAgIH07XG4gICAgaWYgKGRlbGF5KSB7XG4gICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsgZXhlY3V0ZSgpOyB9LCBkZWxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4ZWN1dGUoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBwbGFjZWhvbGRlcixcbiAgICAgIGNvbHVtbjogeyBkYXRhRmllbGQsIHRleHQgfSxcbiAgICAgIHN0eWxlLFxuICAgICAgY29tcGFyYXRvclN0eWxlLFxuICAgICAgZGF0ZVN0eWxlLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgY29tcGFyYXRvckNsYXNzTmFtZSxcbiAgICAgIGRhdGVDbGFzc05hbWVcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGNvbXBhcmF0b3JFbG1JZCA9IGBkYXRlLWZpbHRlci1jb21wYXJhdG9yLSR7ZGF0YUZpZWxkfSR7aWQgPyBgLSR7aWR9YCA6ICcnfWA7XG4gICAgY29uc3QgaW5wdXRFbG1JZCA9IGBkYXRlLWZpbHRlci1jb2x1bW4tJHtkYXRhRmllbGR9JHtpZCA/IGAtJHtpZH1gIDogJyd9YDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIG9uQ2xpY2s9eyBlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCkgfVxuICAgICAgICBjbGFzc05hbWU9eyBgZmlsdGVyIGRhdGUtZmlsdGVyICR7Y2xhc3NOYW1lfWAgfVxuICAgICAgICBzdHlsZT17IHN0eWxlIH1cbiAgICAgID5cbiAgICAgICAgPGxhYmVsXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmlsdGVyLWxhYmVsXCJcbiAgICAgICAgICBodG1sRm9yPXsgY29tcGFyYXRvckVsbUlkIH1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5GaWx0ZXIgY29tcGFyYXRvcjwvc3Bhbj5cbiAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICByZWY9eyBuID0+IHRoaXMuZGF0ZUZpbHRlckNvbXBhcmF0b3IgPSBuIH1cbiAgICAgICAgICAgIGlkPXsgY29tcGFyYXRvckVsbUlkIH1cbiAgICAgICAgICAgIHN0eWxlPXsgY29tcGFyYXRvclN0eWxlIH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17IGBkYXRlLWZpbHRlci1jb21wYXJhdG9yIGZvcm0tY29udHJvbCAke2NvbXBhcmF0b3JDbGFzc05hbWV9YCB9XG4gICAgICAgICAgICBvbkNoYW5nZT17IHRoaXMub25DaGFuZ2VDb21wYXJhdG9yIH1cbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17IHRoaXMuZ2V0RGVmYXVsdENvbXBhcmF0b3IoKSB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyB0aGlzLmdldENvbXBhcmF0b3JPcHRpb25zKCkgfVxuICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8bGFiZWwgaHRtbEZvcj17IGlucHV0RWxtSWQgfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+RW50ZXIgJHsgdGV4dCB9PC9zcGFuPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgcmVmPXsgbiA9PiB0aGlzLmlucHV0RGF0ZSA9IG4gfVxuICAgICAgICAgICAgaWQ9eyBpbnB1dEVsbUlkIH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17IGBmaWx0ZXIgZGF0ZS1maWx0ZXItaW5wdXQgZm9ybS1jb250cm9sICR7ZGF0ZUNsYXNzTmFtZX1gIH1cbiAgICAgICAgICAgIHN0eWxlPXsgZGF0ZVN0eWxlIH1cbiAgICAgICAgICAgIHR5cGU9XCJkYXRlXCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsgdGhpcy5vbkNoYW5nZURhdGUgfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9eyBwbGFjZWhvbGRlciB8fCBgRW50ZXIgJHt0ZXh0fS4uLmAgfVxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXsgdGhpcy5nZXREZWZhdWx0RGF0ZSgpIH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5EYXRlRmlsdGVyLnByb3BUeXBlcyA9IHtcbiAgb25GaWx0ZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGNvbHVtbjogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgZmlsdGVyU3RhdGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGRlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuICBkZWZhdWx0VmFsdWU6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgZGF0ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIGNvbXBhcmF0b3I6IFByb3BUeXBlcy5vbmVPZihbLi4ubGVnYWxDb21wYXJhdG9ycywgJyddKVxuICB9KSxcbiAgLyogZXNsaW50IGNvbnNpc3RlbnQtcmV0dXJuOiAwICovXG4gIGNvbXBhcmF0b3JzOiAocHJvcHMsIHByb3BOYW1lKSA9PiB7XG4gICAgaWYgKCFwcm9wc1twcm9wTmFtZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1twcm9wTmFtZV0ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGxldCBjb21wYXJhdG9ySXNWYWxpZCA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZWdhbENvbXBhcmF0b3JzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGlmIChsZWdhbENvbXBhcmF0b3JzW2pdID09PSBwcm9wc1twcm9wTmFtZV1baV0gfHwgcHJvcHNbcHJvcE5hbWVdW2ldID09PSAnJykge1xuICAgICAgICAgIGNvbXBhcmF0b3JJc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFjb21wYXJhdG9ySXNWYWxpZCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKGBEYXRlIGNvbXBhcmF0b3IgcHJvdmlkZWQgaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgICAgICBVc2Ugb25seSAke2xlZ2FsQ29tcGFyYXRvcnN9YCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBwbGFjZWhvbGRlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgd2l0aG91dEVtcHR5Q29tcGFyYXRvck9wdGlvbjogUHJvcFR5cGVzLmJvb2wsXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBjb21wYXJhdG9yU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGRhdGVTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjb21wYXJhdG9yQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBkYXRlQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBnZXRGaWx0ZXI6IFByb3BUeXBlcy5mdW5jXG59O1xuXG5EYXRlRmlsdGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGVsYXk6IDAsXG4gIGRlZmF1bHRWYWx1ZToge1xuICAgIGRhdGU6IHVuZGVmaW5lZCxcbiAgICBjb21wYXJhdG9yOiAnJ1xuICB9LFxuICBmaWx0ZXJTdGF0ZToge30sXG4gIHdpdGhvdXRFbXB0eUNvbXBhcmF0b3JPcHRpb246IGZhbHNlLFxuICBjb21wYXJhdG9yczogbGVnYWxDb21wYXJhdG9ycyxcbiAgcGxhY2Vob2xkZXI6IHVuZGVmaW5lZCxcbiAgc3R5bGU6IHVuZGVmaW5lZCxcbiAgY2xhc3NOYW1lOiAnJyxcbiAgY29tcGFyYXRvclN0eWxlOiB1bmRlZmluZWQsXG4gIGNvbXBhcmF0b3JDbGFzc05hbWU6ICcnLFxuICBkYXRlU3R5bGU6IHVuZGVmaW5lZCxcbiAgZGF0ZUNsYXNzTmFtZTogJycsXG4gIGlkOiBudWxsXG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IERhdGVGaWx0ZXI7XG4iLCIvKiBlc2xpbnQgZXFlcWVxOiAwICovXG4vKiBlc2xpbnQgbm8tY29uc29sZTogMCAqL1xuaW1wb3J0IHsgRklMVEVSX1RZUEUgfSBmcm9tICcuL2NvbnN0JztcbmltcG9ydCB7IExJS0UsIEVRLCBORSwgR1QsIEdFLCBMVCwgTEUgfSBmcm9tICcuL2NvbXBhcmlzb24nO1xuXG5leHBvcnQgY29uc3QgZmlsdGVyQnlUZXh0ID0gXyA9PiAoXG4gIGRhdGEsXG4gIGRhdGFGaWVsZCxcbiAgeyBmaWx0ZXJWYWw6IHVzZXJJbnB1dCA9ICcnLCBjb21wYXJhdG9yID0gTElLRSwgY2FzZVNlbnNpdGl2ZSB9LFxuICBjdXN0b21GaWx0ZXJWYWx1ZVxuKSA9PiB7XG4gIC8vIG1ha2Ugc3VyZSBmaWx0ZXIgdmFsdWUgdG8gYmUgYSBzdHJpbmdcbiAgY29uc3QgZmlsdGVyVmFsID0gdXNlcklucHV0LnRvU3RyaW5nKCk7XG5cbiAgcmV0dXJuIChcbiAgICBkYXRhLmZpbHRlcigocm93KSA9PiB7XG4gICAgICBsZXQgY2VsbCA9IF8uZ2V0KHJvdywgZGF0YUZpZWxkKTtcbiAgICAgIGlmIChjdXN0b21GaWx0ZXJWYWx1ZSkge1xuICAgICAgICBjZWxsID0gY3VzdG9tRmlsdGVyVmFsdWUoY2VsbCwgcm93KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNlbGxTdHIgPSBfLmlzRGVmaW5lZChjZWxsKSA/IGNlbGwudG9TdHJpbmcoKSA6ICcnO1xuICAgICAgaWYgKGNvbXBhcmF0b3IgPT09IEVRKSB7XG4gICAgICAgIHJldHVybiBjZWxsU3RyID09PSBmaWx0ZXJWYWw7XG4gICAgICB9XG4gICAgICBpZiAoY2FzZVNlbnNpdGl2ZSkge1xuICAgICAgICByZXR1cm4gY2VsbFN0ci5pbmNsdWRlcyhmaWx0ZXJWYWwpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2VsbFN0ci50b0xvY2FsZVVwcGVyQ2FzZSgpLmluZGV4T2YoZmlsdGVyVmFsLnRvTG9jYWxlVXBwZXJDYXNlKCkpICE9PSAtMTtcbiAgICB9KVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGZpbHRlckJ5TnVtYmVyID0gXyA9PiAoXG4gIGRhdGEsXG4gIGRhdGFGaWVsZCxcbiAgeyBmaWx0ZXJWYWw6IHsgY29tcGFyYXRvciwgbnVtYmVyIH0gfSxcbiAgY3VzdG9tRmlsdGVyVmFsdWVcbikgPT4gKFxuICBkYXRhLmZpbHRlcigocm93KSA9PiB7XG4gICAgaWYgKG51bWJlciA9PT0gJycgfHwgIWNvbXBhcmF0b3IpIHJldHVybiB0cnVlO1xuICAgIGxldCBjZWxsID0gXy5nZXQocm93LCBkYXRhRmllbGQpO1xuXG4gICAgaWYgKGN1c3RvbUZpbHRlclZhbHVlKSB7XG4gICAgICBjZWxsID0gY3VzdG9tRmlsdGVyVmFsdWUoY2VsbCwgcm93KTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNvbXBhcmF0b3IpIHtcbiAgICAgIGNhc2UgRVE6IHtcbiAgICAgICAgcmV0dXJuIGNlbGwgPT0gbnVtYmVyO1xuICAgICAgfVxuICAgICAgY2FzZSBHVDoge1xuICAgICAgICByZXR1cm4gY2VsbCA+IG51bWJlcjtcbiAgICAgIH1cbiAgICAgIGNhc2UgR0U6IHtcbiAgICAgICAgcmV0dXJuIGNlbGwgPj0gbnVtYmVyO1xuICAgICAgfVxuICAgICAgY2FzZSBMVDoge1xuICAgICAgICByZXR1cm4gY2VsbCA8IG51bWJlcjtcbiAgICAgIH1cbiAgICAgIGNhc2UgTEU6IHtcbiAgICAgICAgcmV0dXJuIGNlbGwgPD0gbnVtYmVyO1xuICAgICAgfVxuICAgICAgY2FzZSBORToge1xuICAgICAgICByZXR1cm4gY2VsbCAhPSBudW1iZXI7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ051bWJlciBjb21wYXJhdG9yIHByb3ZpZGVkIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9KVxuKTtcblxuZXhwb3J0IGNvbnN0IGZpbHRlckJ5RGF0ZSA9IF8gPT4gKFxuICBkYXRhLFxuICBkYXRhRmllbGQsXG4gIHsgZmlsdGVyVmFsOiB7IGNvbXBhcmF0b3IsIGRhdGUgfSB9LFxuICBjdXN0b21GaWx0ZXJWYWx1ZVxuKSA9PiB7XG4gIGlmICghZGF0ZSB8fCAhY29tcGFyYXRvcikgcmV0dXJuIGRhdGE7XG4gIGNvbnN0IGZpbHRlckRhdGUgPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgY29uc3QgZmlsdGVyTW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gIGNvbnN0IGZpbHRlclllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCk7XG5cbiAgcmV0dXJuIGRhdGEuZmlsdGVyKChyb3cpID0+IHtcbiAgICBsZXQgdmFsaWQgPSB0cnVlO1xuICAgIGxldCBjZWxsID0gXy5nZXQocm93LCBkYXRhRmllbGQpO1xuXG4gICAgaWYgKGN1c3RvbUZpbHRlclZhbHVlKSB7XG4gICAgICBjZWxsID0gY3VzdG9tRmlsdGVyVmFsdWUoY2VsbCwgcm93KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNlbGwgIT09ICdvYmplY3QnKSB7XG4gICAgICBjZWxsID0gbmV3IERhdGUoY2VsbCk7XG4gICAgfVxuXG4gICAgY29uc3QgdGFyZ2V0RGF0ZSA9IGNlbGwuZ2V0VVRDRGF0ZSgpO1xuICAgIGNvbnN0IHRhcmdldE1vbnRoID0gY2VsbC5nZXRVVENNb250aCgpO1xuICAgIGNvbnN0IHRhcmdldFllYXIgPSBjZWxsLmdldFVUQ0Z1bGxZZWFyKCk7XG5cblxuICAgIHN3aXRjaCAoY29tcGFyYXRvcikge1xuICAgICAgY2FzZSBFUToge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZmlsdGVyRGF0ZSAhPT0gdGFyZ2V0RGF0ZSB8fFxuICAgICAgICAgIGZpbHRlck1vbnRoICE9PSB0YXJnZXRNb250aCB8fFxuICAgICAgICAgIGZpbHRlclllYXIgIT09IHRhcmdldFllYXJcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgR1Q6IHtcbiAgICAgICAgaWYgKGNlbGwgPD0gZGF0ZSkge1xuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIEdFOiB7XG4gICAgICAgIGlmICh0YXJnZXRZZWFyIDwgZmlsdGVyWWVhcikge1xuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0WWVhciA9PT0gZmlsdGVyWWVhciAmJlxuICAgICAgICAgIHRhcmdldE1vbnRoIDwgZmlsdGVyTW9udGgpIHtcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldFllYXIgPT09IGZpbHRlclllYXIgJiZcbiAgICAgICAgICB0YXJnZXRNb250aCA9PT0gZmlsdGVyTW9udGggJiZcbiAgICAgICAgICB0YXJnZXREYXRlIDwgZmlsdGVyRGF0ZSkge1xuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIExUOiB7XG4gICAgICAgIGlmIChjZWxsID49IGRhdGUpIHtcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBMRToge1xuICAgICAgICBpZiAodGFyZ2V0WWVhciA+IGZpbHRlclllYXIpIHtcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldFllYXIgPT09IGZpbHRlclllYXIgJiZcbiAgICAgICAgICB0YXJnZXRNb250aCA+IGZpbHRlck1vbnRoKSB7XG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRZZWFyID09PSBmaWx0ZXJZZWFyICYmXG4gICAgICAgICAgdGFyZ2V0TW9udGggPT09IGZpbHRlck1vbnRoICYmXG4gICAgICAgICAgdGFyZ2V0RGF0ZSA+IGZpbHRlckRhdGUpIHtcbiAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBORToge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZmlsdGVyRGF0ZSA9PT0gdGFyZ2V0RGF0ZSAmJlxuICAgICAgICAgIGZpbHRlck1vbnRoID09PSB0YXJnZXRNb250aCAmJlxuICAgICAgICAgIGZpbHRlclllYXIgPT09IHRhcmdldFllYXJcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRGF0ZSBjb21wYXJhdG9yIHByb3ZpZGVkIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWxpZDtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmlsdGVyQnlBcnJheSA9IF8gPT4gKFxuICBkYXRhLFxuICBkYXRhRmllbGQsXG4gIHsgZmlsdGVyVmFsLCBjb21wYXJhdG9yIH1cbikgPT4ge1xuICBpZiAoZmlsdGVyVmFsLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGRhdGE7XG4gIGNvbnN0IHJlZmluZWRGaWx0ZXJWYWwgPSBmaWx0ZXJWYWxcbiAgICAuZmlsdGVyKHggPT4gXy5pc0RlZmluZWQoeCkpXG4gICAgLm1hcCh4ID0+IHgudG9TdHJpbmcoKSk7XG4gIHJldHVybiBkYXRhLmZpbHRlcigocm93KSA9PiB7XG4gICAgY29uc3QgY2VsbCA9IF8uZ2V0KHJvdywgZGF0YUZpZWxkKTtcbiAgICBsZXQgY2VsbFN0ciA9IF8uaXNEZWZpbmVkKGNlbGwpID8gY2VsbC50b1N0cmluZygpIDogJyc7XG4gICAgaWYgKGNvbXBhcmF0b3IgPT09IEVRKSB7XG4gICAgICByZXR1cm4gcmVmaW5lZEZpbHRlclZhbC5pbmRleE9mKGNlbGxTdHIpICE9PSAtMTtcbiAgICB9XG4gICAgY2VsbFN0ciA9IGNlbGxTdHIudG9Mb2NhbGVVcHBlckNhc2UoKTtcbiAgICByZXR1cm4gcmVmaW5lZEZpbHRlclZhbC5zb21lKGl0ZW0gPT4gY2VsbFN0ci5pbmRleE9mKGl0ZW0udG9Mb2NhbGVVcHBlckNhc2UoKSkgIT09IC0xKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmlsdGVyRmFjdG9yeSA9IF8gPT4gKGZpbHRlclR5cGUpID0+IHtcbiAgc3dpdGNoIChmaWx0ZXJUeXBlKSB7XG4gICAgY2FzZSBGSUxURVJfVFlQRS5NVUxUSVNFTEVDVDpcbiAgICAgIHJldHVybiBmaWx0ZXJCeUFycmF5KF8pO1xuICAgIGNhc2UgRklMVEVSX1RZUEUuTlVNQkVSOlxuICAgICAgcmV0dXJuIGZpbHRlckJ5TnVtYmVyKF8pO1xuICAgIGNhc2UgRklMVEVSX1RZUEUuREFURTpcbiAgICAgIHJldHVybiBmaWx0ZXJCeURhdGUoXyk7XG4gICAgY2FzZSBGSUxURVJfVFlQRS5URVhUOlxuICAgIGNhc2UgRklMVEVSX1RZUEUuU0VMRUNUOlxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBVc2UgYHRleHRgIGZpbHRlciBhcyBkZWZhdWx0IGZpbHRlclxuICAgICAgcmV0dXJuIGZpbHRlckJ5VGV4dChfKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZpbHRlcnMgPSAoZGF0YSwgY29sdW1ucywgXykgPT4gKGN1cnJGaWx0ZXJzLCBjbGVhckZpbHRlcnMgPSB7fSkgPT4ge1xuICBjb25zdCBmYWN0b3J5ID0gZmlsdGVyRmFjdG9yeShfKTtcbiAgY29uc3QgZmlsdGVyU3RhdGUgPSB7IC4uLmNsZWFyRmlsdGVycywgLi4uY3VyckZpbHRlcnMgfTtcbiAgbGV0IHJlc3VsdCA9IGRhdGE7XG4gIGxldCBmaWx0ZXJGbjtcbiAgT2JqZWN0LmtleXMoZmlsdGVyU3RhdGUpLmZvckVhY2goKGRhdGFGaWVsZCkgPT4ge1xuICAgIGxldCBjdXJyZW50UmVzdWx0O1xuICAgIGxldCBmaWx0ZXJWYWx1ZTtcbiAgICBsZXQgY3VzdG9tRmlsdGVyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sdW1ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKGNvbHVtbnNbaV0uZGF0YUZpZWxkID09PSBkYXRhRmllbGQpIHtcbiAgICAgICAgZmlsdGVyVmFsdWUgPSBjb2x1bW5zW2ldLmZpbHRlclZhbHVlO1xuICAgICAgICBpZiAoY29sdW1uc1tpXS5maWx0ZXIpIHtcbiAgICAgICAgICBjdXN0b21GaWx0ZXIgPSBjb2x1bW5zW2ldLmZpbHRlci5wcm9wcy5vbkZpbHRlcjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2xlYXJGaWx0ZXJzW2RhdGFGaWVsZF0gJiYgY3VzdG9tRmlsdGVyKSB7XG4gICAgICBjdXJyZW50UmVzdWx0ID0gY3VzdG9tRmlsdGVyKGNsZWFyRmlsdGVyc1tkYXRhRmllbGRdLmZpbHRlclZhbCwgcmVzdWx0KTtcbiAgICAgIGlmICh0eXBlb2YgY3VycmVudFJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmVzdWx0ID0gY3VycmVudFJlc3VsdDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmlsdGVyT2JqID0gZmlsdGVyU3RhdGVbZGF0YUZpZWxkXTtcbiAgICAgIGZpbHRlckZuID0gZmFjdG9yeShmaWx0ZXJPYmouZmlsdGVyVHlwZSk7XG4gICAgICBpZiAoY3VzdG9tRmlsdGVyKSB7XG4gICAgICAgIGN1cnJlbnRSZXN1bHQgPSBjdXN0b21GaWx0ZXIoZmlsdGVyT2JqLmZpbHRlclZhbCwgcmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgY3VycmVudFJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmVzdWx0ID0gZmlsdGVyRm4ocmVzdWx0LCBkYXRhRmllbGQsIGZpbHRlck9iaiwgZmlsdGVyVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gY3VycmVudFJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8qIGVzbGludCByZWFjdC9wcm9wLXR5cGVzOiAwICovXG4vKiBlc2xpbnQgcmVhY3QvcmVxdWlyZS1kZWZhdWx0LXByb3BzOiAwICovXG4vKiBlc2xpbnQgY2FtZWxjYXNlOiAwICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IHsgZmlsdGVycyB9IGZyb20gJy4vZmlsdGVyJztcbmltcG9ydCB7IExJS0UsIEVRIH0gZnJvbSAnLi9jb21wYXJpc29uJztcbmltcG9ydCB7IEZJTFRFUl9UWVBFIH0gZnJvbSAnLi9jb25zdCc7XG5cbmV4cG9ydCBkZWZhdWx0IChcbiAgXyxcbiAgaXNSZW1vdGVGaWx0ZXJpbmcsXG4gIGhhbmRsZUZpbHRlckNoYW5nZVxuKSA9PiB7XG4gIGNvbnN0IEZpbHRlckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KCk7XG5cbiAgY2xhc3MgRmlsdGVyUHJvdmlkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICBkYXRhOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcbiAgICAgIGNvbHVtbnM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxuICAgICAgZGF0YUNoYW5nZUxpc3RlbmVyOiBQcm9wVHlwZXMub2JqZWN0XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgIHRoaXMuY3VyckZpbHRlcnMgPSB7fTtcbiAgICAgIHRoaXMuY2xlYXJGaWx0ZXJzID0ge307XG4gICAgICB0aGlzLm9uRmlsdGVyID0gdGhpcy5vbkZpbHRlci5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5kb0ZpbHRlciA9IHRoaXMuZG9GaWx0ZXIuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMub25FeHRlcm5hbEZpbHRlciA9IHRoaXMub25FeHRlcm5hbEZpbHRlci5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5kYXRhID0gcHJvcHMuZGF0YTtcbiAgICAgIHRoaXMuaXNFbWl0RGF0YUNoYW5nZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgaWYgKGlzUmVtb3RlRmlsdGVyaW5nKCkgJiYgT2JqZWN0LmtleXModGhpcy5jdXJyRmlsdGVycykubGVuZ3RoID4gMCkge1xuICAgICAgICBoYW5kbGVGaWx0ZXJDaGFuZ2UodGhpcy5jdXJyRmlsdGVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgb25GaWx0ZXIoY29sdW1uLCBmaWx0ZXJUeXBlLCBpbml0aWFsaXplID0gZmFsc2UpIHtcbiAgICAgIHJldHVybiAoZmlsdGVyVmFsKSA9PiB7XG4gICAgICAgIC8vIHdhdGNoIG91dCBoZXJlIGlmIG1pZ3JhdGlvbiB0byBjb250ZXh0IEFQSSwgIzMzNFxuICAgICAgICBjb25zdCBjdXJyRmlsdGVycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY3VyckZpbHRlcnMpO1xuICAgICAgICB0aGlzLmNsZWFyRmlsdGVycyA9IHt9O1xuICAgICAgICBjb25zdCB7IGRhdGFGaWVsZCwgZmlsdGVyIH0gPSBjb2x1bW47XG5cbiAgICAgICAgY29uc3QgbmVlZENsZWFyRmlsdGVycyA9XG4gICAgICAgICAgIV8uaXNEZWZpbmVkKGZpbHRlclZhbCkgfHxcbiAgICAgICAgICBmaWx0ZXJWYWwgPT09ICcnIHx8XG4gICAgICAgICAgZmlsdGVyVmFsLmxlbmd0aCA9PT0gMDtcblxuICAgICAgICBpZiAobmVlZENsZWFyRmlsdGVycykge1xuICAgICAgICAgIGRlbGV0ZSBjdXJyRmlsdGVyc1tkYXRhRmllbGRdO1xuICAgICAgICAgIHRoaXMuY2xlYXJGaWx0ZXJzID0geyBbZGF0YUZpZWxkXTogeyBjbGVhcjogdHJ1ZSwgZmlsdGVyVmFsIH0gfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBzZWxlY3QgZGVmYXVsdCBjb21wYXJhdG9yIGlzIEVRLCBvdGhlcnMgYXJlIExJS0VcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBjb21wYXJhdG9yID0gKGZpbHRlclR5cGUgPT09IEZJTFRFUl9UWVBFLlNFTEVDVCA/IEVRIDogTElLRSksXG4gICAgICAgICAgICBjYXNlU2Vuc2l0aXZlID0gZmFsc2VcbiAgICAgICAgICB9ID0gZmlsdGVyLnByb3BzO1xuICAgICAgICAgIGN1cnJGaWx0ZXJzW2RhdGFGaWVsZF0gPSB7IGZpbHRlclZhbCwgZmlsdGVyVHlwZSwgY29tcGFyYXRvciwgY2FzZVNlbnNpdGl2ZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyRmlsdGVycyA9IGN1cnJGaWx0ZXJzO1xuXG4gICAgICAgIGlmIChpc1JlbW90ZUZpbHRlcmluZygpKSB7XG4gICAgICAgICAgaWYgKCFpbml0aWFsaXplKSB7XG4gICAgICAgICAgICBoYW5kbGVGaWx0ZXJDaGFuZ2UodGhpcy5jdXJyRmlsdGVycyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRvRmlsdGVyKHRoaXMucHJvcHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBvbkV4dGVybmFsRmlsdGVyKGNvbHVtbiwgZmlsdGVyVHlwZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLm9uRmlsdGVyKGNvbHVtbiwgZmlsdGVyVHlwZSkodmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRGaWx0ZXJlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgfVxuXG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAvLyBsZXQgbmV4dERhdGEgPSBuZXh0UHJvcHMuZGF0YTtcbiAgICAgIGlmICghaXNSZW1vdGVGaWx0ZXJpbmcoKSAmJiAhXy5pc0VxdWFsKG5leHRQcm9wcy5kYXRhLCB0aGlzLmRhdGEpKSB7XG4gICAgICAgIHRoaXMuZG9GaWx0ZXIobmV4dFByb3BzLCB0aGlzLmlzRW1pdERhdGFDaGFuZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV4dFByb3BzLmRhdGE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZG9GaWx0ZXIocHJvcHMsIGlnbm9yZUVtaXREYXRhQ2hhbmdlID0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IHsgZGF0YUNoYW5nZUxpc3RlbmVyLCBkYXRhLCBjb2x1bW5zLCBmaWx0ZXIgfSA9IHByb3BzO1xuICAgICAgY29uc3QgcmVzdWx0ID0gZmlsdGVycyhkYXRhLCBjb2x1bW5zLCBfKSh0aGlzLmN1cnJGaWx0ZXJzLCB0aGlzLmNsZWFyRmlsdGVycyk7XG4gICAgICBpZiAoZmlsdGVyLmFmdGVyRmlsdGVyKSB7XG4gICAgICAgIGZpbHRlci5hZnRlckZpbHRlcihyZXN1bHQsIHRoaXMuY3VyckZpbHRlcnMpO1xuICAgICAgfVxuICAgICAgdGhpcy5kYXRhID0gcmVzdWx0O1xuICAgICAgaWYgKGRhdGFDaGFuZ2VMaXN0ZW5lciAmJiAhaWdub3JlRW1pdERhdGFDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5pc0VtaXREYXRhQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgZGF0YUNoYW5nZUxpc3RlbmVyLmVtaXQoJ2ZpbHRlckNoYW5nZWQnLCByZXN1bHQubGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaXNFbWl0RGF0YUNoYW5nZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEZpbHRlckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9eyB7XG4gICAgICAgICAgZGF0YTogdGhpcy5kYXRhLFxuICAgICAgICAgIG9uRmlsdGVyOiB0aGlzLm9uRmlsdGVyLFxuICAgICAgICAgIG9uRXh0ZXJuYWxGaWx0ZXI6IHRoaXMub25FeHRlcm5hbEZpbHRlcixcbiAgICAgICAgICBjdXJyRmlsdGVyczogdGhpcy5jdXJyRmlsdGVyc1xuICAgICAgICB9IH1cbiAgICAgICAgPlxuICAgICAgICAgIHsgdGhpcy5wcm9wcy5jaGlsZHJlbiB9XG4gICAgICAgIDwvRmlsdGVyQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBQcm92aWRlcjogRmlsdGVyUHJvdmlkZXIsXG4gICAgQ29uc3VtZXI6IEZpbHRlckNvbnRleHQuQ29uc3VtZXJcbiAgfTtcbn07XG4iLCJpbXBvcnQgVGV4dEZpbHRlciBmcm9tICcuL3NyYy9jb21wb25lbnRzL3RleHQnO1xuaW1wb3J0IFNlbGVjdEZpbHRlciBmcm9tICcuL3NyYy9jb21wb25lbnRzL3NlbGVjdCc7XG5pbXBvcnQgTXVsdGlTZWxlY3RGaWx0ZXIgZnJvbSAnLi9zcmMvY29tcG9uZW50cy9tdWx0aXNlbGVjdCc7XG5pbXBvcnQgTnVtYmVyRmlsdGVyIGZyb20gJy4vc3JjL2NvbXBvbmVudHMvbnVtYmVyJztcbmltcG9ydCBEYXRlRmlsdGVyIGZyb20gJy4vc3JjL2NvbXBvbmVudHMvZGF0ZSc7XG5pbXBvcnQgY3JlYXRlQ29udGV4dCBmcm9tICcuL3NyYy9jb250ZXh0JztcbmltcG9ydCAqIGFzIENvbXBhcmlzb24gZnJvbSAnLi9zcmMvY29tcGFyaXNvbic7XG5pbXBvcnQgeyBGSUxURVJfVFlQRSB9IGZyb20gJy4vc3JjL2NvbnN0JztcblxuZXhwb3J0IGRlZmF1bHQgKG9wdGlvbnMgPSB7fSkgPT4gKHtcbiAgY3JlYXRlQ29udGV4dCxcbiAgb3B0aW9uc1xufSk7XG5cbmV4cG9ydCBjb25zdCBGSUxURVJfVFlQRVMgPSBGSUxURVJfVFlQRTtcblxuZXhwb3J0IGNvbnN0IENvbXBhcmF0b3IgPSBDb21wYXJpc29uO1xuXG5leHBvcnQgY29uc3QgdGV4dEZpbHRlciA9IChwcm9wcyA9IHt9KSA9PiAoe1xuICBGaWx0ZXI6IFRleHRGaWx0ZXIsXG4gIHByb3BzXG59KTtcblxuZXhwb3J0IGNvbnN0IHNlbGVjdEZpbHRlciA9IChwcm9wcyA9IHt9KSA9PiAoe1xuICBGaWx0ZXI6IFNlbGVjdEZpbHRlcixcbiAgcHJvcHNcbn0pO1xuXG5leHBvcnQgY29uc3QgbXVsdGlTZWxlY3RGaWx0ZXIgPSAocHJvcHMgPSB7fSkgPT4gKHtcbiAgRmlsdGVyOiBNdWx0aVNlbGVjdEZpbHRlcixcbiAgcHJvcHNcbn0pO1xuXG5leHBvcnQgY29uc3QgbnVtYmVyRmlsdGVyID0gKHByb3BzID0ge30pID0+ICh7XG4gIEZpbHRlcjogTnVtYmVyRmlsdGVyLFxuICBwcm9wc1xufSk7XG5cbmV4cG9ydCBjb25zdCBkYXRlRmlsdGVyID0gKHByb3BzID0ge30pID0+ICh7XG4gIEZpbHRlcjogRGF0ZUZpbHRlcixcbiAgcHJvcHNcbn0pO1xuXG5leHBvcnQgY29uc3QgY3VzdG9tRmlsdGVyID0gKHByb3BzID0ge30pID0+ICh7XG4gIHByb3BzXG59KTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzc4N19fIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJlbXB0eUZ1bmN0aW9uIiwiZW1wdHlGdW5jdGlvbldpdGhSZXNldCIsInJlc2V0V2FybmluZ0NhY2hlIiwic2hpbSIsInByb3BzIiwicHJvcE5hbWUiLCJjb21wb25lbnROYW1lIiwibG9jYXRpb24iLCJwcm9wRnVsbE5hbWUiLCJzZWNyZXQiLCJlcnIiLCJFcnJvciIsIm5hbWUiLCJnZXRTaGltIiwiaXNSZXF1aXJlZCIsIlJlYWN0UHJvcFR5cGVzIiwiYXJyYXkiLCJiaWdpbnQiLCJib29sIiwiZnVuYyIsIm51bWJlciIsIm9iamVjdCIsInN0cmluZyIsInN5bWJvbCIsImFueSIsImFycmF5T2YiLCJlbGVtZW50IiwiZWxlbWVudFR5cGUiLCJpbnN0YW5jZU9mIiwibm9kZSIsIm9iamVjdE9mIiwib25lT2YiLCJvbmVPZlR5cGUiLCJzaGFwZSIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwiTElLRSIsIkVRIiwiTkUiLCJHVCIsIkdFIiwiTFQiLCJMRSIsIkZJTFRFUl9UWVBFIiwiVEVYVCIsIlNFTEVDVCIsIk1VTFRJU0VMRUNUIiwiTlVNQkVSIiwiREFURSIsIlRleHRGaWx0ZXIiLCJfQ29tcG9uZW50IiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiX2NyZWF0ZVN1cGVyIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJmaWx0ZXIiLCJiaW5kIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsImhhbmRsZUNsaWNrIiwidGltZW91dCIsInN0YXRlIiwiZmlsdGVyU3RhdGUiLCJmaWx0ZXJWYWwiLCJkZWZhdWx0VmFsdWUiLCJfdGhpczIiLCJfdGhpcyRwcm9wcyIsInRoaXMiLCJvbkZpbHRlciIsImdldEZpbHRlciIsImNvbHVtbiIsImlucHV0Iiwic2V0U3RhdGUiLCJjbGVhblRpbWVyIiwibmV4dFByb3BzIiwiYXBwbHlGaWx0ZXIiLCJlIiwiX3RoaXMzIiwic3RvcFByb3BhZ2F0aW9uIiwiZmlsdGVyVmFsdWUiLCJ0YXJnZXQiLCJzZXRUaW1lb3V0IiwiZGVsYXkiLCJjbGVhclRpbWVvdXQiLCJmaWx0ZXJUZXh0Iiwib25DbGljayIsIl90aGlzNCIsIl90aGlzJHByb3BzMiIsImlkIiwicGxhY2Vob2xkZXIiLCJfdGhpcyRwcm9wczIkY29sdW1uIiwiZGF0YUZpZWxkIiwidGV4dCIsInN0eWxlIiwiY2xhc3NOYW1lIiwicmVzdCIsImNhc2VTZW5zaXRpdmUiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJfZXhjbHVkZWQiLCJlbG1JZCIsImNvbmNhdCIsIlJlYWN0IiwiaHRtbEZvciIsIl9leHRlbmRzIiwicmVmIiwidHlwZSIsIm9uQ2hhbmdlIiwiQ29tcG9uZW50IiwicHJvcFR5cGVzIiwiY29tcGFyYXRvciIsImRlZmF1bHRQcm9wcyIsIlNlbGVjdEZpbHRlciIsIm9wdGlvbnMiLCJnZXRPcHRpb25zIiwiaXNTZWxlY3RlZCIsImdldERlZmF1bHRWYWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsIl9yZWYiLCJsYWJlbCIsIm1hcCIsIl9yZWYyIiwic2VsZWN0SW5wdXQiLCJwcmV2UHJvcHMiLCJuZWVkRmlsdGVyIiwibmV4dE9wdGlvbnMiLCJjdXJyT3B0cyIsInByZXZPcHRzIiwibGVuZ3RoIiwiaSIsImtleXMiLCJvcHRpb25zRXF1YWxzIiwiX3RoaXMkcHJvcHMzIiwib3B0aW9uVGFncyIsIl90aGlzJHByb3BzNCIsIndpdGhvdXRFbXB0eU9wdGlvbiIsInB1c2giLCJmb3JFYWNoIiwiX3JlZjMiLCJfdGhpcyRwcm9wczUiLCJzZWxlY3RDbGFzcyIsInJlbmRlck9wdGlvbnMiLCJnZXRTZWxlY3Rpb25zIiwiY29udGFpbmVyIiwic2VsZWN0ZWRPcHRpb25zIiwiZnJvbSIsIml0ZW0iLCJzZWxlY3Rpb25zIiwidG90YWxMZW4iLCJvcHRpb24iLCJzZWxlY3RlZCIsIk11bHRpU2VsZWN0RmlsdGVyIiwibXVsdGlwbGUiLCJsZWdhbENvbXBhcmF0b3JzIiwiQ29tcGFyYXRvciIsIk51bWJlckZpbHRlciIsImNvbXBhcmF0b3JzIiwiaW5kZXhPZiIsIm9uQ2hhbmdlTnVtYmVyIiwib25DaGFuZ2VOdW1iZXJTZXQiLCJvbkNoYW5nZUNvbXBhcmF0b3IiLCJudW1iZXJGaWx0ZXJDb21wYXJhdG9yIiwibnVtYmVyRmlsdGVyIiwiX3RoaXMkcHJvcHM2Iiwid2l0aG91dEVtcHR5Q29tcGFyYXRvck9wdGlvbiIsIl90aGlzJHByb3BzNyIsIndpdGhvdXRFbXB0eU51bWJlck9wdGlvbiIsImZpbHRlck9iaiIsIl90aGlzJHByb3BzOCIsIl90aGlzJHByb3BzOSIsIl90aGlzJHByb3BzMTAiLCJudW1iZXJTdHlsZSIsIm51bWJlckNsYXNzTmFtZSIsImNvbXBhcmF0b3JTdHlsZSIsImNvbXBhcmF0b3JDbGFzc05hbWUiLCJjb21wYXJhdG9yRWxtSWQiLCJpbnB1dEVsbUlkIiwiZ2V0RGVmYXVsdENvbXBhcmF0b3IiLCJnZXRDb21wYXJhdG9yT3B0aW9ucyIsImdldE51bWJlck9wdGlvbnMiLCJjb21wYXJhdG9ySXNWYWxpZCIsImoiLCJkYXRlUGFyc2VyIiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsInNsaWNlIiwiZ2V0VVRDRGF0ZSIsIkRhdGVGaWx0ZXIiLCJvbkNoYW5nZURhdGUiLCJkYXRlRmlsdGVyQ29tcGFyYXRvciIsImRhdGUiLCJpbnB1dERhdGUiLCJudWxsYWJsZUZpbHRlclZhbCIsIkRhdGUiLCJpc0luaXRpYWwiLCJleGVjdXRlIiwiX3RoaXMkcHJvcHM0JGNvbHVtbiIsImRhdGVTdHlsZSIsImRhdGVDbGFzc05hbWUiLCJnZXREZWZhdWx0RGF0ZSIsImZpbHRlckZhY3RvcnkiLCJfIiwiZmlsdGVyVHlwZSIsImRhdGEiLCJfcmVmNCIsInJlZmluZWRGaWx0ZXJWYWwiLCJ4IiwiaXNEZWZpbmVkIiwidG9TdHJpbmciLCJyb3ciLCJjZWxsIiwiY2VsbFN0ciIsInRvTG9jYWxlVXBwZXJDYXNlIiwic29tZSIsImZpbHRlckJ5QXJyYXkiLCJjdXN0b21GaWx0ZXJWYWx1ZSIsIl9yZWYyJGZpbHRlclZhbCIsImNvbnNvbGUiLCJlcnJvciIsImZpbHRlckJ5TnVtYmVyIiwiX3JlZjMkZmlsdGVyVmFsIiwiZmlsdGVyRGF0ZSIsImZpbHRlck1vbnRoIiwiZmlsdGVyWWVhciIsInZhbGlkIiwiX3R5cGVvZiIsInRhcmdldERhdGUiLCJ0YXJnZXRNb250aCIsInRhcmdldFllYXIiLCJmaWx0ZXJCeURhdGUiLCJfcmVmJGZpbHRlclZhbCIsInVzZXJJbnB1dCIsIl9yZWYkY29tcGFyYXRvciIsImluY2x1ZGVzIiwiZmlsdGVyQnlUZXh0IiwiaXNSZW1vdGVGaWx0ZXJpbmciLCJoYW5kbGVGaWx0ZXJDaGFuZ2UiLCJGaWx0ZXJDb250ZXh0IiwiRmlsdGVyUHJvdmlkZXIiLCJfUmVhY3QkQ29tcG9uZW50IiwiY3VyckZpbHRlcnMiLCJjbGVhckZpbHRlcnMiLCJkb0ZpbHRlciIsIm9uRXh0ZXJuYWxGaWx0ZXIiLCJpc0VtaXREYXRhQ2hhbmdlIiwiaW5pdGlhbGl6ZSIsImFyZ3VtZW50cyIsImFzc2lnbiIsIl9maWx0ZXIkcHJvcHMiLCJfZmlsdGVyJHByb3BzJGNvbXBhcmEiLCJfZmlsdGVyJHByb3BzJGNhc2VTZW4iLCJfZGVmaW5lUHJvcGVydHkiLCJjbGVhciIsImlzRXF1YWwiLCJpZ25vcmVFbWl0RGF0YUNoYW5nZSIsImRhdGFDaGFuZ2VMaXN0ZW5lciIsImNvbHVtbnMiLCJyZXN1bHQiLCJmaWx0ZXJGbiIsIl9vYmplY3RTcHJlYWQiLCJjdXJyZW50UmVzdWx0IiwiY3VzdG9tRmlsdGVyIiwiZmlsdGVycyIsImFmdGVyRmlsdGVyIiwiZW1pdCIsImZvcmNlVXBkYXRlIiwiUHJvdmlkZXIiLCJjaGlsZHJlbiIsIkNvbnN1bWVyIiwiY3JlYXRlQ29udGV4dCIsIkZJTFRFUl9UWVBFUyIsIkNvbXBhcmlzb24iLCJ0ZXh0RmlsdGVyIiwiRmlsdGVyIiwic2VsZWN0RmlsdGVyIiwibXVsdGlTZWxlY3RGaWx0ZXIiLCJkYXRlRmlsdGVyIl0sInNvdXJjZVJvb3QiOiIifQ==