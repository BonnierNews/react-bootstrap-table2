/*! For license information please see react-bootstrap-table2-editor.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactBootstrapTable2Editor=t(require("react")):e.ReactBootstrapTable2Editor=t(e.React)}(self,(e=>(()=>{var t={184:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var u=o.apply(null,r);u&&e.push(u)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},703:(e,t,r)=>{"use strict";var n=r(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,u){if(u!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},697:(e,t,r)=>{e.exports=r(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:t=>{"use strict";t.exports=e}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{Type:()=>ut,default:()=>it});var e=n(787),t=n.n(e),r=n(697),i=n.n(r),u="click",a="dbclick",c={TEXT:"text",SELECT:"select",TEXTAREA:"textarea",CHECKBOX:"checkbox",DATE:"date"},l=["nonEditableRows","errorMessage"],s=["options"];function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function j(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var P=t().createContext();const S=function(e,r,n,o){var c=function(i){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(p,i);var u,a,c,f=h(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=f.call(this,e)).doUpdate=t.doUpdate.bind(O(t)),t.startEditing=t.startEditing.bind(O(t)),t.escapeEditing=t.escapeEditing.bind(O(t)),t.completeEditing=t.completeEditing.bind(O(t)),t.handleCellUpdate=t.handleCellUpdate.bind(O(t)),t.state={ridx:null,cidx:null,message:null},t}return u=p,a=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.cellEdit&&n()&&(e.cellEdit.options.errorMessage?this.setState((function(){return{message:e.cellEdit.options.errorMessage}})):this.escapeEditing())}},{key:"handleCellUpdate",value:function(t,n,o){var i=this,u=r.typeConvert(n.type,o),a=this.props.cellEdit.options.beforeSaveCell,c=e.get(t,n.dataField);if(e.isFunction(a)){var l=a(c,u,t,n,(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?i.doUpdate(t,n,u):i.escapeEditing()}));if(e.isObject(l)&&l.async)return}this.doUpdate(t,n,u)}},{key:"doUpdate",value:function(t,i,u){var a=this.props,c=a.keyField,l=a.cellEdit,s=a.data,f=l.options.afterSaveCell,p=e.get(t,c),y=e.get(t,i.dataField);n()?o(p,i.dataField,u):(r.editCell(s,c,p,i.dataField,u),e.isFunction(f)&&f(y,u,t,i),this.completeEditing())}},{key:"completeEditing",value:function(){this.setState((function(){return{ridx:null,cidx:null,message:null}}))}},{key:"startEditing",value:function(e,t){var r=this,n=this.props.selectRow;n&&!n.clickToEdit&&n.clickToSelect||r.setState((function(){return{ridx:e,cidx:t}}))}},{key:"escapeEditing",value:function(){this.setState((function(){return{ridx:null,cidx:null}}))}},{key:"render",value:function(){var r=this.props.cellEdit,n=r.options,o=n.nonEditableRows,i=(n.errorMessage,d(n,l)),u=d(r,s),a=y(y(y(y({},i),u),this.state),{},{nonEditableRows:e.isDefined(o)?o():[],onStart:this.startEditing,onEscape:this.escapeEditing,onUpdate:this.handleCellUpdate});return t().createElement(P.Provider,{value:y({},a)},this.props.children)}}],a&&b(u.prototype,a),c&&b(u,c),Object.defineProperty(u,"prototype",{writable:!1}),p}(t().Component);return j(c,"propTypes",{data:i().array.isRequired,selectRow:i().object,options:i().shape({mode:i().oneOf([u,a]).isRequired,onErrorMessageDisappear:i().func,blurToSave:i().bool,beforeSaveCell:i().func,afterSaveCell:i().func,onStartEdit:i().func,nonEditableRows:i().func,timeToCloseMessage:i().number,errorMessage:i().any})}),{Provider:c}};var E=P.Consumer;function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}const x=function(e,r){function n(n){return t().createElement(E,null,(function(o){return function(n,o){var i=n.value,c=!(o.nonEditableRows.length>0&&o.nonEditableRows.indexOf(i)>-1),l={};return r&&o.mode===a&&(l.DELAY_FOR_DBCLICK=200),t().createElement(e,T({},n,l,{editingRowIdx:o.ridx,editingColIdx:o.cidx,editable:c,onStart:o.onStart,clickToEdit:o.mode===u,dbclickToEdit:o.mode===a}))}(n,o)}))}return n.displayName="WithCellEditingRowConsumer",n};var C=n(184),k=n.n(C);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}var _=["defaultValue","didMount","getOptions","className"];function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M.apply(this,arguments)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return(t=F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function F(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=L(e);if(t){var o=L(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return U(this,r)}}function U(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(u,e);var r,n,o,i=K(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=i.call(this,e);var r=e.options;return e.getOptions&&(r=e.getOptions(t.setOptions.bind(q(t)),{row:e.row,column:e.column})||[]),t.state={options:r},t}return r=u,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,r=e.didMount;this.select.value=t,this.select.focus(),r&&r()}},{key:"setOptions",value:function(e){this.setState({options:e})}},{key:"getValue",value:function(){return this.select.value}},{key:"render",value:function(){var e=this,r=this.props,n=r.defaultValue,o=(r.didMount,r.getOptions,r.className),i=B(r,_),u=k()("form-control editor edit-select",o),a=N(N({},i),{},{className:u});return t().createElement("select",M({},a,{ref:function(t){return e.select=t},defaultValue:n}),this.state.options.map((function(e){var r=e.label,n=e.value;return t().createElement("option",{key:n,value:n},r)})))}}])&&I(r.prototype,n),o&&I(r,o),Object.defineProperty(r,"prototype",{writable:!1}),u}(e.Component);W.propTypes={row:i().object.isRequired,column:i().object.isRequired,defaultValue:i().oneOfType([i().string,i().number]),className:i().string,style:i().object,options:i().oneOfType([i().arrayOf(i().shape({label:i().string,value:i().any}))]),didMount:i().func,getOptions:i().func},W.defaultProps={className:"",defaultValue:"",style:{},options:[],didMount:void 0,getOptions:void 0};const X=W;function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}var Y=["defaultValue","didMount","className","autoSelectText"];function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$.apply(this,arguments)}function z(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===H(i)?i:String(i)),n)}var o,i}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=te(e);if(t){var o=te(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Z(this,r)}}function Z(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(u,e);var r,n,o,i=Q(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).handleKeyDown=t.handleKeyDown.bind(ee(t)),t}return r=u,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,r=e.didMount,n=e.autoSelectText;this.text.value=t,this.text.focus(),n&&this.text.select(),r&&r()}},{key:"getValue",value:function(){return this.text.value}},{key:"handleKeyDown",value:function(e){(13!==e.keyCode||e.shiftKey)&&this.props.onKeyDown&&this.props.onKeyDown(e)}},{key:"render",value:function(){var e=this,r=this.props,n=(r.defaultValue,r.didMount,r.className),o=(r.autoSelectText,z(r,Y)),i=k()("form-control editor edit-textarea",n);return t().createElement("textarea",$({ref:function(t){return e.text=t},type:"textarea",className:i},o,{onKeyDown:this.handleKeyDown}))}}])&&G(r.prototype,n),o&&G(r,o),Object.defineProperty(r,"prototype",{writable:!1}),u}(e.Component);re.propTypes={className:i().oneOfType([i().string,i().object]),defaultValue:i().oneOfType([i().string,i().number]),onKeyDown:i().func,autoSelectText:i().bool,didMount:i().func},re.defaultProps={className:"",defaultValue:"",autoSelectText:!1,onKeyDown:void 0,didMount:void 0};const ne=re;function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}var ie=["defaultValue","didMount","className"];function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ue.apply(this,arguments)}function ae(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==oe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===oe(i)?i:String(i)),n)}var o,i}function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fe(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=be(e);if(t){var o=be(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ye(this,r)}}function ye(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return de(e)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}(u,e);var r,n,o,i=pe(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={checked:e.defaultValue.toString()===e.value.split(":")[0]},t.handleChange=t.handleChange.bind(de(t)),t}return r=u,(n=[{key:"componentDidMount",value:function(){var e=this.props.didMount;this.checkbox.focus(),e&&e()}},{key:"getValue",value:function(){var e=ce(this.props.value.split(":"),2),t=e[0],r=e[1];return this.checkbox.checked?t:r}},{key:"handleChange",value:function(e){this.props.onChange&&this.props.onChange(e);var t=e.target;this.setState((function(){return{checked:t.checked}}))}},{key:"render",value:function(){var e=this,r=this.props,n=(r.defaultValue,r.didMount,r.className),o=ae(r,ie),i=k()("editor edit-chseckbox checkbox",n);return t().createElement("input",ue({ref:function(t){return e.checkbox=t},type:"checkbox",className:i},o,{checked:this.state.checked,onChange:this.handleChange}))}}])&&se(r.prototype,n),o&&se(r,o),Object.defineProperty(r,"prototype",{writable:!1}),u}(e.Component);ve.propTypes={className:i().oneOfType([i().string,i().object]),value:i().string,defaultValue:i().any,onChange:i().func,didMount:i().func},ve.defaultProps={className:"",value:"on:off",defaultValue:!1,onChange:void 0,didMount:void 0};const he=ve;function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}var Oe=["defaultValue","didMount","className"];function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ge.apply(this,arguments)}function je(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==me(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===me(i)?i:String(i)),n)}var o,i}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Se(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xe(e);if(t){var o=xe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Te(this,r)}}function Te(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xe(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(u,e);var r,n,o,i=Ee(u);function u(){return we(this,u),i.apply(this,arguments)}return r=u,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,r=e.didMount;this.date.valueAsDate=new Date(t),this.date.focus(),r&&r()}},{key:"getValue",value:function(){return this.date.value}},{key:"render",value:function(){var e=this,r=this.props,n=(r.defaultValue,r.didMount,r.className),o=je(r,Oe),i=k()("form-control editor edit-date",n);return t().createElement("input",ge({ref:function(t){return e.date=t},type:"date",className:i},o))}}])&&Pe(r.prototype,n),o&&Pe(r,o),Object.defineProperty(r,"prototype",{writable:!1}),u}(e.Component);Ce.propTypes={className:i().oneOfType([i().string,i().object]),defaultValue:i().string,didMount:i().func},Ce.defaultProps={className:"",defaultValue:"",didMount:void 0};const ke=Ce;function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}var _e=["defaultValue","didMount","className","autoSelectText"];function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Me.apply(this,arguments)}function De(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Re(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Re(i)?i:String(i)),n)}var o,i}function Be(e,t){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Be(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ae(e);if(t){var o=Ae(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Fe(this,r)}}function Fe(e,t){if(t&&("object"===Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}var Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Be(e,t)}(u,e);var r,n,o,i=Ie(u);function u(){return Ne(this,u),i.apply(this,arguments)}return r=u,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,r=e.didMount,n=e.autoSelectText;this.text.value=t,this.text.focus(),n&&this.text.select(),r&&r()}},{key:"getValue",value:function(){return this.text.value}},{key:"render",value:function(){var e=this,r=this.props,n=(r.defaultValue,r.didMount,r.className),o=(r.autoSelectText,De(r,_e)),i=k()("form-control editor edit-text",n);return t().createElement("input",Me({ref:function(t){return e.text=t},type:"text",className:i},o))}}])&&Ve(r.prototype,n),o&&Ve(r,o),Object.defineProperty(r,"prototype",{writable:!1}),u}(e.Component);Ke.propTypes={className:i().oneOfType([i().string,i().object]),defaultValue:i().oneOfType([i().string,i().number]),autoSelectText:i().bool,didMount:i().func},Ke.defaultProps={className:null,defaultValue:"",autoSelectText:!1,didMount:void 0};const Ue=Ke;var qe=function(e){var r=e.invalidMessage;return t().createElement("div",{className:"alert alert-danger in",role:"alert"},t().createElement("strong",null,r))};qe.propTypes={invalidMessage:i().string},qe.defaultProps={invalidMessage:null};const Le=qe;function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xe.apply(this,arguments)}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tt(n.key),n)}}function ze(e,t){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ze(e,t)}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ze(e);if(t){var o=Ze(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Je(this,r)}}function Je(e,t){if(t&&("object"===We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qe(e)}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}function et(e,t,r){return(t=tt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tt(e){var t=function(e,t){if("object"!==We(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==We(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===We(t)?t:String(t)}const rt=function(r,n){var o;return o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ze(e,t)}(l,e);var o,i,u,a=Ge(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).indicatorTimer=null,t.clearTimer=t.clearTimer.bind(Qe(t)),t.handleBlur=t.handleBlur.bind(Qe(t)),t.handleClick=t.handleClick.bind(Qe(t)),t.handleKeyDown=t.handleKeyDown.bind(Qe(t)),t.beforeComplete=t.beforeComplete.bind(Qe(t)),t.asyncbeforeCompete=t.asyncbeforeCompete.bind(Qe(t)),t.displayErrorMessage=t.displayErrorMessage.bind(Qe(t)),t.state={invalidMessage:null},t}return o=l,i=[{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.message;r.isDefined(t)&&(this.createTimer(),this.setState((function(){return{invalidMessage:t}})))}},{key:"clearTimer",value:function(){this.indicatorTimer&&clearTimeout(this.indicatorTimer)}},{key:"createTimer",value:function(){var e=this;this.clearTimer();var t=this.props,n=t.timeToCloseMessage,o=t.onErrorMessageDisappear;this.indicatorTimer=r.sleep((function(){e.setState((function(){return{invalidMessage:null}})),r.isFunction(o)&&o()}),n)}},{key:"displayErrorMessage",value:function(e){this.setState((function(){return{invalidMessage:e}})),this.createTimer()}},{key:"asyncbeforeCompete",value:function(e){var t=this;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{valid:!0},n=r.valid,o=r.message,i=t.props,u=i.onUpdate,a=i.row,c=i.column;n?u(a,c,e):t.displayErrorMessage(o)}}},{key:"beforeComplete",value:function(e){var t=this.props,n=t.onUpdate,o=t.row,i=t.column;if(r.isFunction(i.validator)){var u=i.validator(e,o,i,this.asyncbeforeCompete(e));if(r.isObject(u)){if(u.async)return;if(!u.valid)return void this.displayErrorMessage(u.message)}}n(o,i,e)}},{key:"handleBlur",value:function(){var e=this.props,t=e.onEscape;e.blurToSave?this.beforeComplete(this.editor.getValue()):t()}},{key:"handleKeyDown",value:function(e){var t=this.props.onEscape;27===e.keyCode?t():13===e.keyCode&&this.beforeComplete(this.editor.getValue())}},{key:"handleClick",value:function(e){"TD"!==e.target.tagName&&e.stopPropagation()}},{key:"render",value:function(){var e,o=this,i=this.props,u=i.row,a=i.column,l=i.className,s=i.style,f=i.rowIndex,p=i.columnIndex,y=i.autoSelectText,d=a.dataField,b=r.get(u,d),v=r.isDefined(this.state.invalidMessage),h=a.editorClasses||"";r.isFunction(a.editorClasses)&&(h=a.editorClasses(b,u,f,p));var m=a.editorStyle||{};r.isFunction(a.editorStyle)&&(m=a.editorStyle(b,u,f,p));var O={ref:function(e){return o.editor=e},defaultValue:b,style:m,className:k()({animated:v,shake:v},h),onKeyDown:this.handleKeyDown,onBlur:this.handleBlur};n&&(O.didMount=function(){return n(u,a,f,p)});var g=r.isObject(a.editor);return g?O=Ye(Ye({},O),a.editor):r.isFunction(a.editorRenderer)&&(O=Ye(Ye({},O),{},{onUpdate:this.beforeComplete})),e=r.isFunction(a.editorRenderer)?a.editorRenderer(O,b,u,a,f,p):g&&a.editor.type===c.SELECT?t().createElement(X,Xe({},O,{row:u,column:a})):g&&a.editor.type===c.TEXTAREA?t().createElement(ne,Xe({},O,{autoSelectText:y})):g&&a.editor.type===c.CHECKBOX?t().createElement(he,O):g&&a.editor.type===c.DATE?t().createElement(ke,O):t().createElement(Ue,Xe({},O,{autoSelectText:y})),t().createElement("td",{className:k()("react-bootstrap-table-editing-cell",l),style:s,onClick:this.handleClick},e,v?t().createElement(Le,{invalidMessage:this.state.invalidMessage}):null)}}],i&&$e(o.prototype,i),u&&$e(o,u),Object.defineProperty(o,"prototype",{writable:!1}),l}(e.Component),et(o,"propTypes",{row:i().object.isRequired,rowIndex:i().number.isRequired,column:i().object.isRequired,columnIndex:i().number.isRequired,onUpdate:i().func.isRequired,onEscape:i().func.isRequired,timeToCloseMessage:i().number,autoSelectText:i().bool,className:i().string,style:i().object}),et(o,"defaultProps",{timeToCloseMessage:3e3,className:null,autoSelectText:!1,style:{}}),o};function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nt.apply(this,arguments)}const ot=function(e,r){var n=rt(e,r);return function(r){return t().createElement(E,null,(function(o){return function(r,o){var i=e.get(r.row,r.column.dataField),u=r.column.editCellStyle||{},a=r.column.editCellClasses;return e.isFunction(r.column.editCellStyle)&&(u=r.column.editCellStyle(i,r.row,r.rowIndex,r.columnIndex)),e.isFunction(r.column.editCellClasses)&&(a=r.column.editCellClasses(i,r.row,r.rowIndex,r.columnIndex)),t().createElement(n,nt({},r,{className:a,style:u},o))}(r,o)}))}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{createContext:S,createEditingCell:ot,withRowLevelCellEdit:x,DBCLICK_TO_CELL_EDIT:a,DELAY_FOR_DBCLICK:200,options:e}};var ut=c})(),o})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3QtYm9vdHN0cmFwLXRhYmxlMi1lZGl0b3IvZGlzdC9yZWFjdC1ib290c3RyYXAtdGFibGUyLWVkaXRvci5taW4uanMiLCJtYXBwaW5ncyI6IjtDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLFVBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxDQUFDLFNBQVVKLEdBQ1EsaUJBQVpDLFFBQ2RBLFFBQW9DLDJCQUFJRCxFQUFRRyxRQUFRLFVBRXhESixFQUFpQywyQkFBSUMsRUFBUUQsRUFBWSxNQUMxRCxDQVRELENBU0dPLE1BQU9DLDRCQ1RWLE9BT0MsV0FDQSxhQUVBLElBQUlDLEVBQVMsQ0FBQyxFQUFFQyxlQUdoQixTQUFTQyxJQUdSLElBRkEsSUFBSUMsRUFBVSxHQUVMQyxFQUFJLEVBQUdBLEVBQUlDLFVBQVVDLE9BQVFGLElBQUssQ0FDMUMsSUFBSUcsRUFBTUYsVUFBVUQsR0FDcEIsR0FBS0csRUFBTCxDQUVBLElBQUlDLFNBQWlCRCxFQUVyQixHQUFnQixXQUFaQyxHQUFvQyxXQUFaQSxFQUMzQkwsRUFBUU0sS0FBS0YsUUFDUCxHQUFJRyxNQUFNQyxRQUFRSixJQUN4QixHQUFJQSxFQUFJRCxPQUFRLENBQ2YsSUFBSU0sRUFBUVYsRUFBV1csTUFBTSxLQUFNTixHQUMvQkssR0FDSFQsRUFBUU0sS0FBS0csRUFFZixPQUNNLEdBQWdCLFdBQVpKLEVBQXNCLENBQ2hDLEdBQUlELEVBQUlPLFdBQWFDLE9BQU9DLFVBQVVGLFdBQWFQLEVBQUlPLFNBQVNBLFdBQVdHLFNBQVMsaUJBQWtCLENBQ3JHZCxFQUFRTSxLQUFLRixFQUFJTyxZQUNqQixRQUNELENBRUEsSUFBSyxJQUFJSSxLQUFPWCxFQUNYUCxFQUFPbUIsS0FBS1osRUFBS1csSUFBUVgsRUFBSVcsSUFDaENmLEVBQVFNLEtBQUtTLEVBR2hCLENBeEJrQixDQXlCbkIsQ0FFQSxPQUFPZixF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T0FBT2dJLGdCQUM3QkosRUFDQW5OLEVBQU1zRixJQUNOdEYsRUFBTW9NLFNBQ05wTSxFQUFNcU0sY0FJUixrQkFBQ1ksRUFBVyxNQUNMak4sRUFBSyxDQUNWK0ksVUFBWXVFLEVBQ1o5RCxNQUFRNEQsR0FDSG5JLEdBR1gsQ0FJa0J1SSxDQUFzQnhOLEVBQU9pRixFQUFTLEdBQzNDLENBRWQsRUNqQ0QsY0FBZSxJQUFDQyxFQUFVLFVBQUgsNkNBQUcsQ0FBQyxFQUFDLE1BQU0sQ0FDaEN1SSxjQUFBQSxFQUNBUCxrQkFBQUEsR0FDQVEscUJBQUFBLEVBQ0FsSyxxQkFBQUEsRUFDQXlFLGtCWGIrQixJV2MvQi9DLFFBQUFBLEVBQ0EsRUFFSyxJQUFNeUksR0FBT2xLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovLy9leHRlcm5hbCB1bWQge1wicm9vdFwiOlwiUmVhY3RcIixcImNvbW1vbmpzMlwiOlwicmVhY3RcIixcImNvbW1vbmpzXCI6XCJyZWFjdFwiLFwiYW1kXCI6XCJyZWFjdFwifSIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvcmVhY3QtYm9vdHN0cmFwLXRhYmxlMi1lZGl0b3Ivc3JjL2NvbnN0LmpzIiwid2VicGFjazovLy8uL3BhY2thZ2VzL3JlYWN0LWJvb3RzdHJhcC10YWJsZTItZWRpdG9yL3NyYy9jb250ZXh0LmpzIiwid2VicGFjazovLy8uL3BhY2thZ2VzL3JlYWN0LWJvb3RzdHJhcC10YWJsZTItZWRpdG9yL3NyYy9yb3ctY29uc3VtZXIuanMiLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvcmVhY3QtYm9vdHN0cmFwLXRhYmxlMi1lZGl0b3Ivc3JjL2Ryb3Bkb3duLWVkaXRvci5qcyIsIndlYnBhY2s6Ly8vLi9wYWNrYWdlcy9yZWFjdC1ib290c3RyYXAtdGFibGUyLWVkaXRvci9zcmMvdGV4dGFyZWEtZWRpdG9yLmpzIiwid2VicGFjazovLy8uL3BhY2thZ2VzL3JlYWN0LWJvb3RzdHJhcC10YWJsZTItZWRpdG9yL3NyYy9jaGVja2JveC1lZGl0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvcmVhY3QtYm9vdHN0cmFwLXRhYmxlMi1lZGl0b3Ivc3JjL2RhdGUtZWRpdG9yLmpzIiwid2VicGFjazovLy8uL3BhY2thZ2VzL3JlYWN0LWJvb3RzdHJhcC10YWJsZTItZWRpdG9yL3NyYy90ZXh0LWVkaXRvci5qcyIsIndlYnBhY2s6Ly8vLi9wYWNrYWdlcy9yZWFjdC1ib290c3RyYXAtdGFibGUyLWVkaXRvci9zcmMvZWRpdG9yLWluZGljYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9wYWNrYWdlcy9yZWFjdC1ib290c3RyYXAtdGFibGUyLWVkaXRvci9zcmMvZWRpdGluZy1jZWxsLmpzIiwid2VicGFjazovLy8uL3BhY2thZ2VzL3JlYWN0LWJvb3RzdHJhcC10YWJsZTItZWRpdG9yL3NyYy9lZGl0aW5nLWNlbGwtY29uc3VtZXIuanMiLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvcmVhY3QtYm9vdHN0cmFwLXRhYmxlMi1lZGl0b3IvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiUmVhY3RCb290c3RyYXBUYWJsZTJFZGl0b3JcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiUmVhY3RCb290c3RyYXBUYWJsZTJFZGl0b3JcIl0gPSBmYWN0b3J5KHJvb3RbXCJSZWFjdFwiXSk7XG59KShzZWxmLCAoX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNzg3X18pID0+IHtcbnJldHVybiAiLCIvKiFcblx0Q29weXJpZ2h0IChjKSAyMDE4IEplZCBXYXRzb24uXG5cdExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG5cdGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cdHZhciBuYXRpdmVDb2RlU3RyaW5nID0gJ1tuYXRpdmUgY29kZV0nO1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGlmIChhcmcubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dmFyIGlubmVyID0gY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpO1xuXHRcdFx0XHRcdGlmIChpbm5lcikge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGlubmVyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0aWYgKGFyZy50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyAmJiAhYXJnLnRvU3RyaW5nLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ1tuYXRpdmUgY29kZV0nKSkge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChhcmcudG9TdHJpbmcoKSk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbldpdGhSZXNldCgpIHt9XG5lbXB0eUZ1bmN0aW9uV2l0aFJlc2V0LnJlc2V0V2FybmluZ0NhY2hlID0gZW1wdHlGdW5jdGlvbjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIHRocm93IGVycjtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJpZ2ludDogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBlbGVtZW50VHlwZTogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltLFxuXG4gICAgY2hlY2tQcm9wVHlwZXM6IGVtcHR5RnVuY3Rpb25XaXRoUmVzZXQsXG4gICAgcmVzZXRXYXJuaW5nQ2FjaGU6IGVtcHR5RnVuY3Rpb25cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RJcyA9IHJlcXVpcmUoJ3JlYWN0LWlzJyk7XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShSZWFjdElzLmlzRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzc4N19fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgY29uc3QgVElNRV9UT19DTE9TRV9NRVNTQUdFID0gMzAwMDtcbmV4cG9ydCBjb25zdCBERUxBWV9GT1JfREJDTElDSyA9IDIwMDtcbmV4cG9ydCBjb25zdCBDTElDS19UT19DRUxMX0VESVQgPSAnY2xpY2snO1xuZXhwb3J0IGNvbnN0IERCQ0xJQ0tfVE9fQ0VMTF9FRElUID0gJ2RiY2xpY2snO1xuXG5leHBvcnQgY29uc3QgRURJVFRZUEUgPSB7XG4gIFRFWFQ6ICd0ZXh0JyxcbiAgU0VMRUNUOiAnc2VsZWN0JyxcbiAgVEVYVEFSRUE6ICd0ZXh0YXJlYScsXG4gIENIRUNLQk9YOiAnY2hlY2tib3gnLFxuICBEQVRFOiAnZGF0ZSdcbn07XG4iLCIvKiBlc2xpbnQgcmVhY3QvcHJvcC10eXBlczogMCAqL1xuLyogZXNsaW50IHJlYWN0L3JlcXVpcmUtZGVmYXVsdC1wcm9wczogMCAqL1xuLyogZXNsaW50IGNhbWVsY2FzZTogMCAqL1xuLyogZXNsaW50IHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzOiAwICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IENMSUNLX1RPX0NFTExfRURJVCwgREJDTElDS19UT19DRUxMX0VESVQgfSBmcm9tICcuL2NvbnN0JztcblxuY29uc3QgQ2VsbEVkaXRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCgpO1xuXG5leHBvcnQgZGVmYXVsdCAoXG4gIF8sXG4gIGRhdGFPcGVyYXRvcixcbiAgaXNSZW1vdGVDZWxsRWRpdCxcbiAgaGFuZGxlQ2VsbENoYW5nZVxuKSA9PiB7XG4gIGNsYXNzIENlbGxFZGl0UHJvdmlkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICBkYXRhOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcbiAgICAgIHNlbGVjdFJvdzogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgIG9wdGlvbnM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgIG1vZGU6IFByb3BUeXBlcy5vbmVPZihbQ0xJQ0tfVE9fQ0VMTF9FRElULCBEQkNMSUNLX1RPX0NFTExfRURJVF0pLmlzUmVxdWlyZWQsXG4gICAgICAgIG9uRXJyb3JNZXNzYWdlRGlzYXBwZWFyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgYmx1clRvU2F2ZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgICAgIGJlZm9yZVNhdmVDZWxsOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgYWZ0ZXJTYXZlQ2VsbDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIG9uU3RhcnRFZGl0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgbm9uRWRpdGFibGVSb3dzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgdGltZVRvQ2xvc2VNZXNzYWdlOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICBlcnJvck1lc3NhZ2U6IFByb3BUeXBlcy5hbnlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgIHRoaXMuZG9VcGRhdGUgPSB0aGlzLmRvVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLnN0YXJ0RWRpdGluZyA9IHRoaXMuc3RhcnRFZGl0aW5nLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmVzY2FwZUVkaXRpbmcgPSB0aGlzLmVzY2FwZUVkaXRpbmcuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuY29tcGxldGVFZGl0aW5nID0gdGhpcy5jb21wbGV0ZUVkaXRpbmcuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuaGFuZGxlQ2VsbFVwZGF0ZSA9IHRoaXMuaGFuZGxlQ2VsbFVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgcmlkeDogbnVsbCxcbiAgICAgICAgY2lkeDogbnVsbCxcbiAgICAgICAgbWVzc2FnZTogbnVsbFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmIChuZXh0UHJvcHMuY2VsbEVkaXQgJiYgaXNSZW1vdGVDZWxsRWRpdCgpKSB7XG4gICAgICAgIGlmIChuZXh0UHJvcHMuY2VsbEVkaXQub3B0aW9ucy5lcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7XG4gICAgICAgICAgICBtZXNzYWdlOiBuZXh0UHJvcHMuY2VsbEVkaXQub3B0aW9ucy5lcnJvck1lc3NhZ2VcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lc2NhcGVFZGl0aW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVDZWxsVXBkYXRlKHJvdywgY29sdW1uLCBuZXdWYWx1ZSkge1xuICAgICAgY29uc3QgbmV3VmFsdWVXaXRoVHlwZSA9IGRhdGFPcGVyYXRvci50eXBlQ29udmVydChjb2x1bW4udHlwZSwgbmV3VmFsdWUpO1xuICAgICAgY29uc3QgeyBjZWxsRWRpdCB9ID0gdGhpcy5wcm9wcztcbiAgICAgIGNvbnN0IHsgYmVmb3JlU2F2ZUNlbGwgfSA9IGNlbGxFZGl0Lm9wdGlvbnM7XG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IF8uZ2V0KHJvdywgY29sdW1uLmRhdGFGaWVsZCk7XG4gICAgICBjb25zdCBiZWZvcmVTYXZlQ2VsbERvbmUgPSAocmVzdWx0ID0gdHJ1ZSkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgdGhpcy5kb1VwZGF0ZShyb3csIGNvbHVtbiwgbmV3VmFsdWVXaXRoVHlwZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lc2NhcGVFZGl0aW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKGJlZm9yZVNhdmVDZWxsKSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBiZWZvcmVTYXZlQ2VsbChcbiAgICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgICBuZXdWYWx1ZVdpdGhUeXBlLFxuICAgICAgICAgIHJvdyxcbiAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgYmVmb3JlU2F2ZUNlbGxEb25lXG4gICAgICAgICk7XG4gICAgICAgIGlmIChfLmlzT2JqZWN0KHJlc3VsdCkgJiYgcmVzdWx0LmFzeW5jKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmRvVXBkYXRlKHJvdywgY29sdW1uLCBuZXdWYWx1ZVdpdGhUeXBlKTtcbiAgICB9XG5cbiAgICBkb1VwZGF0ZShyb3csIGNvbHVtbiwgbmV3VmFsdWUpIHtcbiAgICAgIGNvbnN0IHsga2V5RmllbGQsIGNlbGxFZGl0LCBkYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgICAgY29uc3QgeyBhZnRlclNhdmVDZWxsIH0gPSBjZWxsRWRpdC5vcHRpb25zO1xuICAgICAgY29uc3Qgcm93SWQgPSBfLmdldChyb3csIGtleUZpZWxkKTtcbiAgICAgIGNvbnN0IG9sZFZhbHVlID0gXy5nZXQocm93LCBjb2x1bW4uZGF0YUZpZWxkKTtcbiAgICAgIGlmIChpc1JlbW90ZUNlbGxFZGl0KCkpIHtcbiAgICAgICAgaGFuZGxlQ2VsbENoYW5nZShyb3dJZCwgY29sdW1uLmRhdGFGaWVsZCwgbmV3VmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YU9wZXJhdG9yLmVkaXRDZWxsKGRhdGEsIGtleUZpZWxkLCByb3dJZCwgY29sdW1uLmRhdGFGaWVsZCwgbmV3VmFsdWUpO1xuICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKGFmdGVyU2F2ZUNlbGwpKSBhZnRlclNhdmVDZWxsKG9sZFZhbHVlLCBuZXdWYWx1ZSwgcm93LCBjb2x1bW4pO1xuICAgICAgICB0aGlzLmNvbXBsZXRlRWRpdGluZygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBsZXRlRWRpdGluZygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHtcbiAgICAgICAgcmlkeDogbnVsbCxcbiAgICAgICAgY2lkeDogbnVsbCxcbiAgICAgICAgbWVzc2FnZTogbnVsbFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHN0YXJ0RWRpdGluZyhyaWR4LCBjaWR4KSB7XG4gICAgICBjb25zdCBlZGl0aW5nID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7XG4gICAgICAgICAgcmlkeCxcbiAgICAgICAgICBjaWR4XG4gICAgICAgIH0pKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgc2VsZWN0Um93IH0gPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKCFzZWxlY3RSb3cgfHwgKHNlbGVjdFJvdy5jbGlja1RvRWRpdCB8fCAhc2VsZWN0Um93LmNsaWNrVG9TZWxlY3QpKSBlZGl0aW5nKCk7XG4gICAgfVxuXG4gICAgZXNjYXBlRWRpdGluZygpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHtcbiAgICAgICAgcmlkeDogbnVsbCxcbiAgICAgICAgY2lkeDogbnVsbFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY2VsbEVkaXQ6IHtcbiAgICAgICAgICBvcHRpb25zOiB7IG5vbkVkaXRhYmxlUm93cywgZXJyb3JNZXNzYWdlLCAuLi5vcHRpb25zUmVzdCB9LFxuICAgICAgICAgIC4uLmNlbGxFZGl0UmVzdFxuICAgICAgICB9XG4gICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgY29uc3QgbmV3Q2VsbEVkaXQgPSB7XG4gICAgICAgIC4uLm9wdGlvbnNSZXN0LFxuICAgICAgICAuLi5jZWxsRWRpdFJlc3QsXG4gICAgICAgIC4uLnRoaXMuc3RhdGUsXG4gICAgICAgIG5vbkVkaXRhYmxlUm93czogXy5pc0RlZmluZWQobm9uRWRpdGFibGVSb3dzKSA/IG5vbkVkaXRhYmxlUm93cygpIDogW10sXG4gICAgICAgIG9uU3RhcnQ6IHRoaXMuc3RhcnRFZGl0aW5nLFxuICAgICAgICBvbkVzY2FwZTogdGhpcy5lc2NhcGVFZGl0aW5nLFxuICAgICAgICBvblVwZGF0ZTogdGhpcy5oYW5kbGVDZWxsVXBkYXRlXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q2VsbEVkaXRDb250ZXh0LlByb3ZpZGVyXG4gICAgICAgICAgdmFsdWU9eyB7IC4uLm5ld0NlbGxFZGl0IH0gfVxuICAgICAgICA+XG4gICAgICAgICAgeyB0aGlzLnByb3BzLmNoaWxkcmVuIH1cbiAgICAgICAgPC9DZWxsRWRpdENvbnRleHQuUHJvdmlkZXI+XG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIFByb3ZpZGVyOiBDZWxsRWRpdFByb3ZpZGVyXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgQ29uc3VtZXIgPSBDZWxsRWRpdENvbnRleHQuQ29uc3VtZXI7XG4iLCIvKiBlc2xpbnQgcmVhY3QvcHJvcC10eXBlczogMCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERFTEFZX0ZPUl9EQkNMSUNLLCBEQkNMSUNLX1RPX0NFTExfRURJVCwgQ0xJQ0tfVE9fQ0VMTF9FRElUIH0gZnJvbSAnLi9jb25zdCc7XG5pbXBvcnQgeyBDb25zdW1lciB9IGZyb20gJy4vY29udGV4dCc7XG5cbmV4cG9ydCBkZWZhdWx0IChDb21wb25lbnQsIHNlbGVjdFJvd0VuYWJsZWQpID0+IHtcbiAgY29uc3QgcmVuZGVyV2l0aENlbGxFZGl0ID0gKHByb3BzLCBjZWxsRWRpdCkgPT4ge1xuICAgIGNvbnN0IGtleSA9IHByb3BzLnZhbHVlO1xuICAgIGNvbnN0IGVkaXRhYmxlUm93ID0gIShcbiAgICAgIGNlbGxFZGl0Lm5vbkVkaXRhYmxlUm93cy5sZW5ndGggPiAwICYmXG4gICAgICBjZWxsRWRpdC5ub25FZGl0YWJsZVJvd3MuaW5kZXhPZihrZXkpID4gLTFcbiAgICApO1xuXG4gICAgY29uc3QgYXR0cnMgPSB7fTtcblxuICAgIGlmIChzZWxlY3RSb3dFbmFibGVkICYmIGNlbGxFZGl0Lm1vZGUgPT09IERCQ0xJQ0tfVE9fQ0VMTF9FRElUKSB7XG4gICAgICBhdHRycy5ERUxBWV9GT1JfREJDTElDSyA9IERFTEFZX0ZPUl9EQkNMSUNLO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8Q29tcG9uZW50XG4gICAgICAgIHsgLi4ucHJvcHMgfVxuICAgICAgICB7IC4uLmF0dHJzIH1cbiAgICAgICAgZWRpdGluZ1Jvd0lkeD17IGNlbGxFZGl0LnJpZHggfVxuICAgICAgICBlZGl0aW5nQ29sSWR4PXsgY2VsbEVkaXQuY2lkeCB9XG4gICAgICAgIGVkaXRhYmxlPXsgZWRpdGFibGVSb3cgfVxuICAgICAgICBvblN0YXJ0PXsgY2VsbEVkaXQub25TdGFydCB9XG4gICAgICAgIGNsaWNrVG9FZGl0PXsgY2VsbEVkaXQubW9kZSA9PT0gQ0xJQ0tfVE9fQ0VMTF9FRElUIH1cbiAgICAgICAgZGJjbGlja1RvRWRpdD17IGNlbGxFZGl0Lm1vZGUgPT09IERCQ0xJQ0tfVE9fQ0VMTF9FRElUIH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfTtcbiAgZnVuY3Rpb24gd2l0aENvbnN1bWVyKHByb3BzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb25zdW1lcj5cbiAgICAgICAgeyBjZWxsRWRpdCA9PiByZW5kZXJXaXRoQ2VsbEVkaXQocHJvcHMsIGNlbGxFZGl0KSB9XG4gICAgICA8L0NvbnN1bWVyPlxuICAgICk7XG4gIH1cblxuICB3aXRoQ29uc3VtZXIuZGlzcGxheU5hbWUgPSAnV2l0aENlbGxFZGl0aW5nUm93Q29uc3VtZXInO1xuICByZXR1cm4gd2l0aENvbnN1bWVyO1xufTtcbiIsIi8qIGVzbGludCBuby1yZXR1cm4tYXNzaWduOiAwICovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuY2xhc3MgRHJvcERvd25FZGl0b3IgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBsZXQgb3B0aW9ucyA9IHByb3BzLm9wdGlvbnM7XG4gICAgaWYgKHByb3BzLmdldE9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBwcm9wcy5nZXRPcHRpb25zKFxuICAgICAgICB0aGlzLnNldE9wdGlvbnMuYmluZCh0aGlzKSxcbiAgICAgICAge1xuICAgICAgICAgIHJvdzogcHJvcHMucm93LFxuICAgICAgICAgIGNvbHVtbjogcHJvcHMuY29sdW1uXG4gICAgICAgIH1cbiAgICAgICkgfHwgW107XG4gICAgfVxuICAgIHRoaXMuc3RhdGUgPSB7IG9wdGlvbnMgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlLCBkaWRNb3VudCB9ID0gdGhpcy5wcm9wcztcbiAgICB0aGlzLnNlbGVjdC52YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB0aGlzLnNlbGVjdC5mb2N1cygpO1xuICAgIGlmIChkaWRNb3VudCkgZGlkTW91bnQoKTtcbiAgfVxuXG4gIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBvcHRpb25zIH0pO1xuICB9XG5cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0LnZhbHVlO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlLCBkaWRNb3VudCwgZ2V0T3B0aW9ucywgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGVkaXRvckNsYXNzID0gY3MoJ2Zvcm0tY29udHJvbCBlZGl0b3IgZWRpdC1zZWxlY3QnLCBjbGFzc05hbWUpO1xuXG4gICAgY29uc3QgYXR0ciA9IHtcbiAgICAgIC4uLnJlc3QsXG4gICAgICBjbGFzc05hbWU6IGVkaXRvckNsYXNzXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8c2VsZWN0XG4gICAgICAgIHsgLi4uYXR0ciB9XG4gICAgICAgIHJlZj17IG5vZGUgPT4gdGhpcy5zZWxlY3QgPSBub2RlIH1cbiAgICAgICAgZGVmYXVsdFZhbHVlPXsgZGVmYXVsdFZhbHVlIH1cbiAgICAgID5cbiAgICAgICAge1xuICAgICAgICAgIHRoaXMuc3RhdGUub3B0aW9ucy5tYXAoKHsgbGFiZWwsIHZhbHVlIH0pID0+IChcbiAgICAgICAgICAgIDxvcHRpb24ga2V5PXsgdmFsdWUgfSB2YWx1ZT17IHZhbHVlIH0+eyBsYWJlbCB9PC9vcHRpb24+XG4gICAgICAgICAgKSlcbiAgICAgICAgfVxuICAgICAgPC9zZWxlY3Q+XG4gICAgKTtcbiAgfVxufVxuXG5Ecm9wRG93bkVkaXRvci5wcm9wVHlwZXMgPSB7XG4gIHJvdzogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBjb2x1bW46IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgZGVmYXVsdFZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIFByb3BUeXBlcy5udW1iZXJcbiAgXSksXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIG9wdGlvbnM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgIHZhbHVlOiBQcm9wVHlwZXMuYW55XG4gICAgfSkpXG4gIF0pLFxuICBkaWRNb3VudDogUHJvcFR5cGVzLmZ1bmMsXG4gIGdldE9wdGlvbnM6IFByb3BUeXBlcy5mdW5jXG59O1xuRHJvcERvd25FZGl0b3IuZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6ICcnLFxuICBkZWZhdWx0VmFsdWU6ICcnLFxuICBzdHlsZToge30sXG4gIG9wdGlvbnM6IFtdLFxuICBkaWRNb3VudDogdW5kZWZpbmVkLFxuICBnZXRPcHRpb25zOiB1bmRlZmluZWRcbn07XG5leHBvcnQgZGVmYXVsdCBEcm9wRG93bkVkaXRvcjtcbiIsIi8qIGVzbGludCBuby1yZXR1cm4tYXNzaWduOiAwICovXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuY2xhc3MgVGV4dEFyZWFFZGl0b3IgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZUtleURvd24gPSB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlLCBkaWRNb3VudCwgYXV0b1NlbGVjdFRleHQgfSA9IHRoaXMucHJvcHM7XG4gICAgdGhpcy50ZXh0LnZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgIHRoaXMudGV4dC5mb2N1cygpO1xuICAgIGlmIChhdXRvU2VsZWN0VGV4dCkgdGhpcy50ZXh0LnNlbGVjdCgpO1xuICAgIGlmIChkaWRNb3VudCkgZGlkTW91bnQoKTtcbiAgfVxuXG4gIGdldFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnRleHQudmFsdWU7XG4gIH1cblxuICBoYW5kbGVLZXlEb3duKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSAxMyAmJiAhZS5zaGlmdEtleSkgcmV0dXJuO1xuICAgIGlmICh0aGlzLnByb3BzLm9uS2V5RG93bikge1xuICAgICAgdGhpcy5wcm9wcy5vbktleURvd24oZSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlLCBkaWRNb3VudCwgY2xhc3NOYW1lLCBhdXRvU2VsZWN0VGV4dCwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBlZGl0b3JDbGFzcyA9IGNzKCdmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtdGV4dGFyZWEnLCBjbGFzc05hbWUpO1xuICAgIHJldHVybiAoXG4gICAgICA8dGV4dGFyZWFcbiAgICAgICAgcmVmPXsgbm9kZSA9PiB0aGlzLnRleHQgPSBub2RlIH1cbiAgICAgICAgdHlwZT1cInRleHRhcmVhXCJcbiAgICAgICAgY2xhc3NOYW1lPXsgZWRpdG9yQ2xhc3MgfVxuICAgICAgICB7IC4uLnJlc3QgfVxuICAgICAgICBvbktleURvd249eyB0aGlzLmhhbmRsZUtleURvd24gfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cblRleHRBcmVhRWRpdG9yLnByb3BUeXBlcyA9IHtcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIFByb3BUeXBlcy5vYmplY3RcbiAgXSksXG4gIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgUHJvcFR5cGVzLnN0cmluZyxcbiAgICBQcm9wVHlwZXMubnVtYmVyXG4gIF0pLFxuICBvbktleURvd246IFByb3BUeXBlcy5mdW5jLFxuICBhdXRvU2VsZWN0VGV4dDogUHJvcFR5cGVzLmJvb2wsXG4gIGRpZE1vdW50OiBQcm9wVHlwZXMuZnVuY1xufTtcblRleHRBcmVhRWRpdG9yLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiAnJyxcbiAgZGVmYXVsdFZhbHVlOiAnJyxcbiAgYXV0b1NlbGVjdFRleHQ6IGZhbHNlLFxuICBvbktleURvd246IHVuZGVmaW5lZCxcbiAgZGlkTW91bnQ6IHVuZGVmaW5lZFxufTtcbmV4cG9ydCBkZWZhdWx0IFRleHRBcmVhRWRpdG9yO1xuIiwiLyogZXNsaW50IG5vLXJldHVybi1hc3NpZ246IDAgKi9cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3MgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5jbGFzcyBDaGVja0JveEVkaXRvciBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjaGVja2VkOiBwcm9wcy5kZWZhdWx0VmFsdWUudG9TdHJpbmcoKSA9PT0gcHJvcHMudmFsdWUuc3BsaXQoJzonKVswXVxuICAgIH07XG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBkaWRNb3VudCB9ID0gdGhpcy5wcm9wcztcbiAgICB0aGlzLmNoZWNrYm94LmZvY3VzKCk7XG4gICAgaWYgKGRpZE1vdW50KSBkaWRNb3VudCgpO1xuICB9XG5cbiAgZ2V0VmFsdWUoKSB7XG4gICAgY29uc3QgW3Bvc2l0aXZlLCBuZWdhdGl2ZV0gPSB0aGlzLnByb3BzLnZhbHVlLnNwbGl0KCc6Jyk7XG4gICAgcmV0dXJuIHRoaXMuY2hlY2tib3guY2hlY2tlZCA/IHBvc2l0aXZlIDogbmVnYXRpdmU7XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoZSkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uQ2hhbmdlKSB0aGlzLnByb3BzLm9uQ2hhbmdlKGUpO1xuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBlO1xuICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHsgY2hlY2tlZDogdGFyZ2V0LmNoZWNrZWQgfSkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlLCBkaWRNb3VudCwgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGVkaXRvckNsYXNzID0gY3MoJ2VkaXRvciBlZGl0LWNoc2Vja2JveCBjaGVja2JveCcsIGNsYXNzTmFtZSk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxpbnB1dFxuICAgICAgICByZWY9eyBub2RlID0+IHRoaXMuY2hlY2tib3ggPSBub2RlIH1cbiAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgY2xhc3NOYW1lPXsgZWRpdG9yQ2xhc3MgfVxuICAgICAgICB7IC4uLnJlc3QgfVxuICAgICAgICBjaGVja2VkPXsgdGhpcy5zdGF0ZS5jaGVja2VkIH1cbiAgICAgICAgb25DaGFuZ2U9eyB0aGlzLmhhbmRsZUNoYW5nZSB9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuQ2hlY2tCb3hFZGl0b3IucHJvcFR5cGVzID0ge1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgUHJvcFR5cGVzLm9iamVjdFxuICBdKSxcbiAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLmFueSxcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBkaWRNb3VudDogUHJvcFR5cGVzLmZ1bmNcbn07XG5DaGVja0JveEVkaXRvci5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJycsXG4gIHZhbHVlOiAnb246b2ZmJyxcbiAgZGVmYXVsdFZhbHVlOiBmYWxzZSxcbiAgb25DaGFuZ2U6IHVuZGVmaW5lZCxcbiAgZGlkTW91bnQ6IHVuZGVmaW5lZFxufTtcbmV4cG9ydCBkZWZhdWx0IENoZWNrQm94RWRpdG9yO1xuIiwiLyogZXNsaW50IG5vLXJldHVybi1hc3NpZ246IDAgKi9cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3MgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5jbGFzcyBEYXRlRWRpdG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBkZWZhdWx0VmFsdWUsIGRpZE1vdW50IH0gPSB0aGlzLnByb3BzO1xuICAgIHRoaXMuZGF0ZS52YWx1ZUFzRGF0ZSA9IG5ldyBEYXRlKGRlZmF1bHRWYWx1ZSk7XG4gICAgdGhpcy5kYXRlLmZvY3VzKCk7XG4gICAgaWYgKGRpZE1vdW50KSBkaWRNb3VudCgpO1xuICB9XG5cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0ZS52YWx1ZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRlZmF1bHRWYWx1ZSwgZGlkTW91bnQsIGNsYXNzTmFtZSwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBlZGl0b3JDbGFzcyA9IGNzKCdmb3JtLWNvbnRyb2wgZWRpdG9yIGVkaXQtZGF0ZScsIGNsYXNzTmFtZSk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxpbnB1dFxuICAgICAgICByZWY9eyBub2RlID0+IHRoaXMuZGF0ZSA9IG5vZGUgfVxuICAgICAgICB0eXBlPVwiZGF0ZVwiXG4gICAgICAgIGNsYXNzTmFtZT17IGVkaXRvckNsYXNzIH1cbiAgICAgICAgeyAuLi5yZXN0IH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5EYXRlRWRpdG9yLnByb3BUeXBlcyA9IHtcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIFByb3BUeXBlcy5vYmplY3RcbiAgXSksXG4gIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgZGlkTW91bnQ6IFByb3BUeXBlcy5mdW5jXG59O1xuRGF0ZUVkaXRvci5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogJycsXG4gIGRlZmF1bHRWYWx1ZTogJycsXG4gIGRpZE1vdW50OiB1bmRlZmluZWRcbn07XG5leHBvcnQgZGVmYXVsdCBEYXRlRWRpdG9yO1xuIiwiLyogZXNsaW50IG5vLXJldHVybi1hc3NpZ246IDAgKi9cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3MgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5jbGFzcyBUZXh0RWRpdG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBkZWZhdWx0VmFsdWUsIGRpZE1vdW50LCBhdXRvU2VsZWN0VGV4dCB9ID0gdGhpcy5wcm9wcztcbiAgICB0aGlzLnRleHQudmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgdGhpcy50ZXh0LmZvY3VzKCk7XG4gICAgaWYgKGF1dG9TZWxlY3RUZXh0KSB0aGlzLnRleHQuc2VsZWN0KCk7XG4gICAgaWYgKGRpZE1vdW50KSBkaWRNb3VudCgpO1xuICB9XG5cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dC52YWx1ZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRlZmF1bHRWYWx1ZSwgZGlkTW91bnQsIGNsYXNzTmFtZSwgYXV0b1NlbGVjdFRleHQsIC4uLnJlc3QgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgZWRpdG9yQ2xhc3MgPSBjcygnZm9ybS1jb250cm9sIGVkaXRvciBlZGl0LXRleHQnLCBjbGFzc05hbWUpO1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgcmVmPXsgbm9kZSA9PiB0aGlzLnRleHQgPSBub2RlIH1cbiAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICBjbGFzc05hbWU9eyBlZGl0b3JDbGFzcyB9XG4gICAgICAgIHsgLi4ucmVzdCB9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuVGV4dEVkaXRvci5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgUHJvcFR5cGVzLnN0cmluZyxcbiAgICBQcm9wVHlwZXMub2JqZWN0XG4gIF0pLFxuICBkZWZhdWx0VmFsdWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgUHJvcFR5cGVzLm51bWJlclxuICBdKSxcbiAgYXV0b1NlbGVjdFRleHQ6IFByb3BUeXBlcy5ib29sLFxuICBkaWRNb3VudDogUHJvcFR5cGVzLmZ1bmNcbn07XG5UZXh0RWRpdG9yLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiBudWxsLFxuICBkZWZhdWx0VmFsdWU6ICcnLFxuICBhdXRvU2VsZWN0VGV4dDogZmFsc2UsXG4gIGRpZE1vdW50OiB1bmRlZmluZWRcbn07XG5leHBvcnQgZGVmYXVsdCBUZXh0RWRpdG9yO1xuIiwiLyogZXNsaW50IG5vLXJldHVybi1hc3NpZ246IDAgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5jb25zdCBFZGl0b3JJbmRpY2F0b3IgPSAoeyBpbnZhbGlkTWVzc2FnZSB9KSA9PlxuICAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXIgaW5cIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgIDxzdHJvbmc+eyBpbnZhbGlkTWVzc2FnZSB9PC9zdHJvbmc+XG4gICAgPC9kaXY+XG4gICk7XG5cbkVkaXRvckluZGljYXRvci5wcm9wVHlwZXMgPSB7XG4gIGludmFsaWRNZXNzYWdlOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuXG5FZGl0b3JJbmRpY2F0b3IuZGVmYXVsdFByb3BzID0ge1xuICBpbnZhbGlkTWVzc2FnZTogbnVsbFxufTtcbmV4cG9ydCBkZWZhdWx0IEVkaXRvckluZGljYXRvcjtcbiIsIi8qIGVzbGludCByZWFjdC9wcm9wLXR5cGVzOiAwICovXG4vKiBlc2xpbnQgbm8tcmV0dXJuLWFzc2lnbjogMCAqL1xuLyogZXNsaW50IGNsYXNzLW1ldGhvZHMtdXNlLXRoaXM6IDAgKi9cbi8qIGVzbGludCBqc3gtYTExeS9uby1ub25pbnRlcmFjdGl2ZS1lbGVtZW50LWludGVyYWN0aW9uczogMCAqL1xuLyogZXNsaW50IGNhbWVsY2FzZTogMCAqL1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCBEcm9wZG93bkVkaXRvciBmcm9tICcuL2Ryb3Bkb3duLWVkaXRvcic7XG5pbXBvcnQgVGV4dEFyZWFFZGl0b3IgZnJvbSAnLi90ZXh0YXJlYS1lZGl0b3InO1xuaW1wb3J0IENoZWNrQm94RWRpdG9yIGZyb20gJy4vY2hlY2tib3gtZWRpdG9yJztcbmltcG9ydCBEYXRlRWRpdG9yIGZyb20gJy4vZGF0ZS1lZGl0b3InO1xuaW1wb3J0IFRleHRFZGl0b3IgZnJvbSAnLi90ZXh0LWVkaXRvcic7XG5pbXBvcnQgRWRpdG9ySW5kaWNhdG9yIGZyb20gJy4vZWRpdG9yLWluZGljYXRvcic7XG5pbXBvcnQgeyBUSU1FX1RPX0NMT1NFX01FU1NBR0UsIEVESVRUWVBFIH0gZnJvbSAnLi9jb25zdCc7XG5cbmV4cG9ydCBkZWZhdWx0IChfLCBvblN0YXJ0RWRpdCkgPT5cbiAgY2xhc3MgRWRpdGluZ0NlbGwgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICByb3c6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgIHJvd0luZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICBjb2x1bW46IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICAgIGNvbHVtbkluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICBvblVwZGF0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgIG9uRXNjYXBlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgdGltZVRvQ2xvc2VNZXNzYWdlOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgYXV0b1NlbGVjdFRleHQ6IFByb3BUeXBlcy5ib29sLFxuICAgICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3RcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgdGltZVRvQ2xvc2VNZXNzYWdlOiBUSU1FX1RPX0NMT1NFX01FU1NBR0UsXG4gICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICBhdXRvU2VsZWN0VGV4dDogZmFsc2UsXG4gICAgICBzdHlsZToge31cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgdGhpcy5pbmRpY2F0b3JUaW1lciA9IG51bGw7XG4gICAgICB0aGlzLmNsZWFyVGltZXIgPSB0aGlzLmNsZWFyVGltZXIuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuaGFuZGxlQmx1ciA9IHRoaXMuaGFuZGxlQmx1ci5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5oYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuaGFuZGxlS2V5RG93biA9IHRoaXMuaGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5iZWZvcmVDb21wbGV0ZSA9IHRoaXMuYmVmb3JlQ29tcGxldGUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuYXN5bmNiZWZvcmVDb21wZXRlID0gdGhpcy5hc3luY2JlZm9yZUNvbXBldGUuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuZGlzcGxheUVycm9yTWVzc2FnZSA9IHRoaXMuZGlzcGxheUVycm9yTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgaW52YWxpZE1lc3NhZ2U6IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICB9XG5cbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyh7IG1lc3NhZ2UgfSkge1xuICAgICAgaWYgKF8uaXNEZWZpbmVkKG1lc3NhZ2UpKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlVGltZXIoKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoe1xuICAgICAgICAgIGludmFsaWRNZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjbGVhclRpbWVyKCkge1xuICAgICAgaWYgKHRoaXMuaW5kaWNhdG9yVGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW5kaWNhdG9yVGltZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVRpbWVyKCkge1xuICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICBjb25zdCB7IHRpbWVUb0Nsb3NlTWVzc2FnZSwgb25FcnJvck1lc3NhZ2VEaXNhcHBlYXIgfSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLmluZGljYXRvclRpbWVyID0gXy5zbGVlcCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHtcbiAgICAgICAgICBpbnZhbGlkTWVzc2FnZTogbnVsbFxuICAgICAgICB9KSk7XG4gICAgICAgIGlmIChfLmlzRnVuY3Rpb24ob25FcnJvck1lc3NhZ2VEaXNhcHBlYXIpKSBvbkVycm9yTWVzc2FnZURpc2FwcGVhcigpO1xuICAgICAgfSwgdGltZVRvQ2xvc2VNZXNzYWdlKTtcbiAgICB9XG5cbiAgICBkaXNwbGF5RXJyb3JNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoKCkgPT4gKHtcbiAgICAgICAgaW52YWxpZE1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMuY3JlYXRlVGltZXIoKTtcbiAgICB9XG5cbiAgICBhc3luY2JlZm9yZUNvbXBldGUobmV3VmFsdWUpIHtcbiAgICAgIHJldHVybiAocmVzdWx0ID0geyB2YWxpZDogdHJ1ZSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdmFsaWQsIG1lc3NhZ2UgfSA9IHJlc3VsdDtcbiAgICAgICAgY29uc3QgeyBvblVwZGF0ZSwgcm93LCBjb2x1bW4gfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICB0aGlzLmRpc3BsYXlFcnJvck1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9uVXBkYXRlKHJvdywgY29sdW1uLCBuZXdWYWx1ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGJlZm9yZUNvbXBsZXRlKG5ld1ZhbHVlKSB7XG4gICAgICBjb25zdCB7IG9uVXBkYXRlLCByb3csIGNvbHVtbiB9ID0gdGhpcy5wcm9wcztcbiAgICAgIGlmIChfLmlzRnVuY3Rpb24oY29sdW1uLnZhbGlkYXRvcikpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVGb3JtID0gY29sdW1uLnZhbGlkYXRvcihcbiAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICByb3csXG4gICAgICAgICAgY29sdW1uLFxuICAgICAgICAgIHRoaXMuYXN5bmNiZWZvcmVDb21wZXRlKG5ld1ZhbHVlKVxuICAgICAgICApO1xuICAgICAgICBpZiAoXy5pc09iamVjdCh2YWxpZGF0ZUZvcm0pKSB7XG4gICAgICAgICAgaWYgKHZhbGlkYXRlRm9ybS5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbGlkYXRlRm9ybS52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RXJyb3JNZXNzYWdlKHZhbGlkYXRlRm9ybS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9uVXBkYXRlKHJvdywgY29sdW1uLCBuZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQmx1cigpIHtcbiAgICAgIGNvbnN0IHsgb25Fc2NhcGUsIGJsdXJUb1NhdmUgfSA9IHRoaXMucHJvcHM7XG4gICAgICBpZiAoYmx1clRvU2F2ZSkge1xuICAgICAgICB0aGlzLmJlZm9yZUNvbXBsZXRlKHRoaXMuZWRpdG9yLmdldFZhbHVlKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25Fc2NhcGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duKGUpIHtcbiAgICAgIGNvbnN0IHsgb25Fc2NhcGUgfSA9IHRoaXMucHJvcHM7XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykgeyAvLyBFU0NcbiAgICAgICAgb25Fc2NhcGUoKTtcbiAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSAxMykgeyAvLyBFTlRFUlxuICAgICAgICB0aGlzLmJlZm9yZUNvbXBsZXRlKHRoaXMuZWRpdG9yLmdldFZhbHVlKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrKGUpIHtcbiAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lICE9PSAnVEQnKSB7XG4gICAgICAgIC8vIFRvIGF2b2lkIHRoZSByb3cgc2VsZWN0aW9uIGV2ZW50IGJlIHRyaWdnZXJlZCxcbiAgICAgICAgLy8gV2hlbiB1c2VyIGRlZmluZSBzZWxlY3RSb3cuY2xpY2tUb1NlbGVjdCBhbmQgc2VsZWN0Um93LmNsaWNrVG9FZGl0XG4gICAgICAgIC8vIFdlIHNob3VsZG4ndCB0cmlnZ2VyIHNlbGVjdGlvbiBldmVudCBldmVuIGlmIHVzZXIgY2xpY2sgb24gdGhlIGNlbGwgZWRpdG9yKGlucHV0KVxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgIGxldCBlZGl0b3I7XG4gICAgICBjb25zdCB7IHJvdywgY29sdW1uLCBjbGFzc05hbWUsIHN0eWxlLCByb3dJbmRleCwgY29sdW1uSW5kZXgsIGF1dG9TZWxlY3RUZXh0IH0gPSB0aGlzLnByb3BzO1xuICAgICAgY29uc3QgeyBkYXRhRmllbGQgfSA9IGNvbHVtbjtcblxuICAgICAgY29uc3QgdmFsdWUgPSBfLmdldChyb3csIGRhdGFGaWVsZCk7XG4gICAgICBjb25zdCBoYXNFcnJvciA9IF8uaXNEZWZpbmVkKHRoaXMuc3RhdGUuaW52YWxpZE1lc3NhZ2UpO1xuXG4gICAgICBsZXQgY3VzdG9tRWRpdG9yQ2xhc3MgPSBjb2x1bW4uZWRpdG9yQ2xhc3NlcyB8fCAnJztcbiAgICAgIGlmIChfLmlzRnVuY3Rpb24oY29sdW1uLmVkaXRvckNsYXNzZXMpKSB7XG4gICAgICAgIGN1c3RvbUVkaXRvckNsYXNzID0gY29sdW1uLmVkaXRvckNsYXNzZXModmFsdWUsIHJvdywgcm93SW5kZXgsIGNvbHVtbkluZGV4KTtcbiAgICAgIH1cblxuICAgICAgbGV0IGVkaXRvclN0eWxlID0gY29sdW1uLmVkaXRvclN0eWxlIHx8IHt9O1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihjb2x1bW4uZWRpdG9yU3R5bGUpKSB7XG4gICAgICAgIGVkaXRvclN0eWxlID0gY29sdW1uLmVkaXRvclN0eWxlKHZhbHVlLCByb3csIHJvd0luZGV4LCBjb2x1bW5JbmRleCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVkaXRvckNsYXNzID0gY3Moe1xuICAgICAgICBhbmltYXRlZDogaGFzRXJyb3IsXG4gICAgICAgIHNoYWtlOiBoYXNFcnJvclxuICAgICAgfSwgY3VzdG9tRWRpdG9yQ2xhc3MpO1xuXG4gICAgICBsZXQgZWRpdG9yUHJvcHMgPSB7XG4gICAgICAgIHJlZjogbm9kZSA9PiB0aGlzLmVkaXRvciA9IG5vZGUsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdmFsdWUsXG4gICAgICAgIHN0eWxlOiBlZGl0b3JTdHlsZSxcbiAgICAgICAgY2xhc3NOYW1lOiBlZGl0b3JDbGFzcyxcbiAgICAgICAgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sXG4gICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyXG4gICAgICB9O1xuXG4gICAgICBpZiAob25TdGFydEVkaXQpIHtcbiAgICAgICAgZWRpdG9yUHJvcHMuZGlkTW91bnQgPSAoKSA9PiBvblN0YXJ0RWRpdChyb3csIGNvbHVtbiwgcm93SW5kZXgsIGNvbHVtbkluZGV4KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXNEZWZhdWx0RWRpdG9yRGVmaW5lZCA9IF8uaXNPYmplY3QoY29sdW1uLmVkaXRvcik7XG5cbiAgICAgIGlmIChpc0RlZmF1bHRFZGl0b3JEZWZpbmVkKSB7XG4gICAgICAgIGVkaXRvclByb3BzID0ge1xuICAgICAgICAgIC4uLmVkaXRvclByb3BzLFxuICAgICAgICAgIC4uLmNvbHVtbi5lZGl0b3JcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoXy5pc0Z1bmN0aW9uKGNvbHVtbi5lZGl0b3JSZW5kZXJlcikpIHtcbiAgICAgICAgZWRpdG9yUHJvcHMgPSB7XG4gICAgICAgICAgLi4uZWRpdG9yUHJvcHMsXG4gICAgICAgICAgb25VcGRhdGU6IHRoaXMuYmVmb3JlQ29tcGxldGVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKF8uaXNGdW5jdGlvbihjb2x1bW4uZWRpdG9yUmVuZGVyZXIpKSB7XG4gICAgICAgIGVkaXRvciA9IGNvbHVtbi5lZGl0b3JSZW5kZXJlcihlZGl0b3JQcm9wcywgdmFsdWUsIHJvdywgY29sdW1uLCByb3dJbmRleCwgY29sdW1uSW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChpc0RlZmF1bHRFZGl0b3JEZWZpbmVkICYmIGNvbHVtbi5lZGl0b3IudHlwZSA9PT0gRURJVFRZUEUuU0VMRUNUKSB7XG4gICAgICAgIGVkaXRvciA9IDxEcm9wZG93bkVkaXRvciB7IC4uLmVkaXRvclByb3BzIH0gcm93PXsgcm93IH0gY29sdW1uPXsgY29sdW1uIH0gLz47XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmYXVsdEVkaXRvckRlZmluZWQgJiYgY29sdW1uLmVkaXRvci50eXBlID09PSBFRElUVFlQRS5URVhUQVJFQSkge1xuICAgICAgICBlZGl0b3IgPSA8VGV4dEFyZWFFZGl0b3IgeyAuLi5lZGl0b3JQcm9wcyB9IGF1dG9TZWxlY3RUZXh0PXsgYXV0b1NlbGVjdFRleHQgfSAvPjtcbiAgICAgIH0gZWxzZSBpZiAoaXNEZWZhdWx0RWRpdG9yRGVmaW5lZCAmJiBjb2x1bW4uZWRpdG9yLnR5cGUgPT09IEVESVRUWVBFLkNIRUNLQk9YKSB7XG4gICAgICAgIGVkaXRvciA9IDxDaGVja0JveEVkaXRvciB7IC4uLmVkaXRvclByb3BzIH0gLz47XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmYXVsdEVkaXRvckRlZmluZWQgJiYgY29sdW1uLmVkaXRvci50eXBlID09PSBFRElUVFlQRS5EQVRFKSB7XG4gICAgICAgIGVkaXRvciA9IDxEYXRlRWRpdG9yIHsgLi4uZWRpdG9yUHJvcHMgfSAvPjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVkaXRvciA9IDxUZXh0RWRpdG9yIHsgLi4uZWRpdG9yUHJvcHMgfSBhdXRvU2VsZWN0VGV4dD17IGF1dG9TZWxlY3RUZXh0IH0gLz47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDx0ZFxuICAgICAgICAgIGNsYXNzTmFtZT17IGNzKCdyZWFjdC1ib290c3RyYXAtdGFibGUtZWRpdGluZy1jZWxsJywgY2xhc3NOYW1lKSB9XG4gICAgICAgICAgc3R5bGU9eyBzdHlsZSB9XG4gICAgICAgICAgb25DbGljaz17IHRoaXMuaGFuZGxlQ2xpY2sgfVxuICAgICAgICA+XG4gICAgICAgICAgeyBlZGl0b3IgfVxuICAgICAgICAgIHsgaGFzRXJyb3IgPyA8RWRpdG9ySW5kaWNhdG9yIGludmFsaWRNZXNzYWdlPXsgdGhpcy5zdGF0ZS5pbnZhbGlkTWVzc2FnZSB9IC8+IDogbnVsbCB9XG4gICAgICAgIDwvdGQ+XG4gICAgICApO1xuICAgIH1cbiAgfTtcbiIsIi8qIGVzbGludCByZWFjdC9wcm9wLXR5cGVzOiAwICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ29uc3VtZXIgfSBmcm9tICcuL2NvbnRleHQnO1xuaW1wb3J0IGNyZWF0ZUVkaXRpbmdDZWxsIGZyb20gJy4vZWRpdGluZy1jZWxsJztcblxuZXhwb3J0IGRlZmF1bHQgKF8sIG9uU3RhcnRFZGl0KSA9PiB7XG4gIGNvbnN0IEVkaXRpbmdDZWxsID0gY3JlYXRlRWRpdGluZ0NlbGwoXywgb25TdGFydEVkaXQpO1xuICBjb25zdCByZW5kZXJXaXRoRWRpdGluZ0NlbGwgPSAocHJvcHMsIGNlbGxFZGl0KSA9PiB7XG4gICAgY29uc3QgY29udGVudCA9IF8uZ2V0KHByb3BzLnJvdywgcHJvcHMuY29sdW1uLmRhdGFGaWVsZCk7XG4gICAgbGV0IGVkaXRDZWxsc3R5bGUgPSBwcm9wcy5jb2x1bW4uZWRpdENlbGxTdHlsZSB8fCB7fTtcbiAgICBsZXQgZWRpdENlbGxjbGFzc2VzID0gcHJvcHMuY29sdW1uLmVkaXRDZWxsQ2xhc3NlcztcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHByb3BzLmNvbHVtbi5lZGl0Q2VsbFN0eWxlKSkge1xuICAgICAgZWRpdENlbGxzdHlsZSA9IHByb3BzLmNvbHVtbi5lZGl0Q2VsbFN0eWxlKFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBwcm9wcy5yb3csXG4gICAgICAgIHByb3BzLnJvd0luZGV4LFxuICAgICAgICBwcm9wcy5jb2x1bW5JbmRleFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKF8uaXNGdW5jdGlvbihwcm9wcy5jb2x1bW4uZWRpdENlbGxDbGFzc2VzKSkge1xuICAgICAgZWRpdENlbGxjbGFzc2VzID0gcHJvcHMuY29sdW1uLmVkaXRDZWxsQ2xhc3NlcyhcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgcHJvcHMucm93LFxuICAgICAgICBwcm9wcy5yb3dJbmRleCxcbiAgICAgICAgcHJvcHMuY29sdW1uSW5kZXgpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8RWRpdGluZ0NlbGxcbiAgICAgICAgeyAuLi5wcm9wcyB9XG4gICAgICAgIGNsYXNzTmFtZT17IGVkaXRDZWxsY2xhc3NlcyB9XG4gICAgICAgIHN0eWxlPXsgZWRpdENlbGxzdHlsZSB9XG4gICAgICAgIHsgLi4uY2VsbEVkaXQgfVxuICAgICAgLz5cbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBwcm9wcyA9PiAoXG4gICAgPENvbnN1bWVyPlxuICAgICAgeyBjZWxsRWRpdCA9PiByZW5kZXJXaXRoRWRpdGluZ0NlbGwocHJvcHMsIGNlbGxFZGl0KSB9XG4gICAgPC9Db25zdW1lcj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgY3JlYXRlQ29udGV4dCBmcm9tICcuL3NyYy9jb250ZXh0JztcbmltcG9ydCB3aXRoUm93TGV2ZWxDZWxsRWRpdCBmcm9tICcuL3NyYy9yb3ctY29uc3VtZXInO1xuaW1wb3J0IGNyZWF0ZUVkaXRpbmdDZWxsIGZyb20gJy4vc3JjL2VkaXRpbmctY2VsbC1jb25zdW1lcic7XG5pbXBvcnQge1xuICBFRElUVFlQRSxcbiAgREJDTElDS19UT19DRUxMX0VESVQsXG4gIERFTEFZX0ZPUl9EQkNMSUNLXG59IGZyb20gJy4vc3JjL2NvbnN0JztcblxuZXhwb3J0IGRlZmF1bHQgKG9wdGlvbnMgPSB7fSkgPT4gKHtcbiAgY3JlYXRlQ29udGV4dCxcbiAgY3JlYXRlRWRpdGluZ0NlbGwsXG4gIHdpdGhSb3dMZXZlbENlbGxFZGl0LFxuICBEQkNMSUNLX1RPX0NFTExfRURJVCxcbiAgREVMQVlfRk9SX0RCQ0xJQ0ssXG4gIG9wdGlvbnNcbn0pO1xuXG5leHBvcnQgY29uc3QgVHlwZSA9IEVESVRUWVBFO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNzg3X18iLCJoYXNPd24iLCJoYXNPd25Qcm9wZXJ0eSIsImNsYXNzTmFtZXMiLCJjbGFzc2VzIiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZyIsImFyZ1R5cGUiLCJwdXNoIiwiQXJyYXkiLCJpc0FycmF5IiwiaW5uZXIiLCJhcHBseSIsInRvU3RyaW5nIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaW5jbHVkZXMiLCJrZXkiLCJjYWxsIiwiam9pbiIsImRlZmF1bHQiLCJSZWFjdFByb3BUeXBlc1NlY3JldCIsImVtcHR5RnVuY3Rpb24iLCJlbXB0eUZ1bmN0aW9uV2l0aFJlc2V0IiwicmVzZXRXYXJuaW5nQ2FjaGUiLCJzaGltIiwicHJvcHMiLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJsb2NhdGlvbiIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImVyciIsIkVycm9yIiwibmFtZSIsImdldFNoaW0iLCJpc1JlcXVpcmVkIiwiUmVhY3RQcm9wVHlwZXMiLCJhcnJheSIsImJpZ2ludCIsImJvb2wiLCJmdW5jIiwibnVtYmVyIiwib2JqZWN0Iiwic3RyaW5nIiwic3ltYm9sIiwiYW55IiwiYXJyYXlPZiIsImVsZW1lbnQiLCJlbGVtZW50VHlwZSIsImluc3RhbmNlT2YiLCJub2RlIiwib2JqZWN0T2YiLCJvbmVPZiIsIm9uZU9mVHlwZSIsInNoYXBlIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsIlByb3BUeXBlcyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJDTElDS19UT19DRUxMX0VESVQiLCJEQkNMSUNLX1RPX0NFTExfRURJVCIsIkVESVRUWVBFIiwiVEVYVCIsIlNFTEVDVCIsIlRFWFRBUkVBIiwiQ0hFQ0tCT1giLCJEQVRFIiwiQ2VsbEVkaXRDb250ZXh0IiwiUmVhY3QiLCJfIiwiZGF0YU9wZXJhdG9yIiwiaXNSZW1vdGVDZWxsRWRpdCIsImhhbmRsZUNlbGxDaGFuZ2UiLCJDZWxsRWRpdFByb3ZpZGVyIiwiZG9VcGRhdGUiLCJiaW5kIiwic3RhcnRFZGl0aW5nIiwiZXNjYXBlRWRpdGluZyIsImNvbXBsZXRlRWRpdGluZyIsImhhbmRsZUNlbGxVcGRhdGUiLCJzdGF0ZSIsInJpZHgiLCJjaWR4IiwibWVzc2FnZSIsIm5leHRQcm9wcyIsImNlbGxFZGl0Iiwib3B0aW9ucyIsImVycm9yTWVzc2FnZSIsInRoaXMiLCJzZXRTdGF0ZSIsInJvdyIsImNvbHVtbiIsIm5ld1ZhbHVlIiwibmV3VmFsdWVXaXRoVHlwZSIsInR5cGVDb252ZXJ0IiwidHlwZSIsImJlZm9yZVNhdmVDZWxsIiwib2xkVmFsdWUiLCJkYXRhRmllbGQiLCJpc0Z1bmN0aW9uIiwicmVzdWx0IiwiaXNPYmplY3QiLCJhc3luYyIsImtleUZpZWxkIiwiZGF0YSIsImFmdGVyU2F2ZUNlbGwiLCJyb3dJZCIsImVkaXRDZWxsIiwic2VsZWN0Um93IiwiY2xpY2tUb0VkaXQiLCJjbGlja1RvU2VsZWN0Iiwibm9uRWRpdGFibGVSb3dzIiwib3B0aW9uc1Jlc3QiLCJjZWxsRWRpdFJlc3QiLCJuZXdDZWxsRWRpdCIsImlzRGVmaW5lZCIsIm9uU3RhcnQiLCJvbkVzY2FwZSIsIm9uVXBkYXRlIiwiUHJvdmlkZXIiLCJjaGlsZHJlbiIsIm1vZGUiLCJvbkVycm9yTWVzc2FnZURpc2FwcGVhciIsImJsdXJUb1NhdmUiLCJvblN0YXJ0RWRpdCIsInRpbWVUb0Nsb3NlTWVzc2FnZSIsIkNvbnN1bWVyIiwiQ29tcG9uZW50Iiwic2VsZWN0Um93RW5hYmxlZCIsIndpdGhDb25zdW1lciIsImVkaXRhYmxlUm93IiwiaW5kZXhPZiIsImF0dHJzIiwiREVMQVlfRk9SX0RCQ0xJQ0siLCJlZGl0aW5nUm93SWR4IiwiZWRpdGluZ0NvbElkeCIsImVkaXRhYmxlIiwiZGJjbGlja1RvRWRpdCIsInJlbmRlcldpdGhDZWxsRWRpdCIsImRpc3BsYXlOYW1lIiwiRHJvcERvd25FZGl0b3IiLCJnZXRPcHRpb25zIiwic2V0T3B0aW9ucyIsImRlZmF1bHRWYWx1ZSIsImRpZE1vdW50Iiwic2VsZWN0IiwiZm9jdXMiLCJjbGFzc05hbWUiLCJyZXN0IiwiZWRpdG9yQ2xhc3MiLCJjcyIsImF0dHIiLCJyZWYiLCJtYXAiLCJsYWJlbCIsInByb3BUeXBlcyIsInN0eWxlIiwiZGVmYXVsdFByb3BzIiwiVGV4dEFyZWFFZGl0b3IiLCJoYW5kbGVLZXlEb3duIiwiYXV0b1NlbGVjdFRleHQiLCJ0ZXh0IiwiZSIsImtleUNvZGUiLCJzaGlmdEtleSIsIm9uS2V5RG93biIsIkNoZWNrQm94RWRpdG9yIiwiY2hlY2tlZCIsInNwbGl0IiwiaGFuZGxlQ2hhbmdlIiwiY2hlY2tib3giLCJwb3NpdGl2ZSIsIm5lZ2F0aXZlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJEYXRlRWRpdG9yIiwiZGF0ZSIsInZhbHVlQXNEYXRlIiwiRGF0ZSIsIlRleHRFZGl0b3IiLCJFZGl0b3JJbmRpY2F0b3IiLCJpbnZhbGlkTWVzc2FnZSIsInJvbGUiLCJpbmRpY2F0b3JUaW1lciIsImNsZWFyVGltZXIiLCJoYW5kbGVCbHVyIiwiaGFuZGxlQ2xpY2siLCJiZWZvcmVDb21wbGV0ZSIsImFzeW5jYmVmb3JlQ29tcGV0ZSIsImRpc3BsYXlFcnJvck1lc3NhZ2UiLCJjcmVhdGVUaW1lciIsImNsZWFyVGltZW91dCIsInNsZWVwIiwidmFsaWQiLCJ2YWxpZGF0b3IiLCJ2YWxpZGF0ZUZvcm0iLCJlZGl0b3IiLCJnZXRWYWx1ZSIsInRhZ05hbWUiLCJzdG9wUHJvcGFnYXRpb24iLCJyb3dJbmRleCIsImNvbHVtbkluZGV4IiwiaGFzRXJyb3IiLCJjdXN0b21FZGl0b3JDbGFzcyIsImVkaXRvckNsYXNzZXMiLCJlZGl0b3JTdHlsZSIsImVkaXRvclByb3BzIiwiYW5pbWF0ZWQiLCJzaGFrZSIsIm9uQmx1ciIsImlzRGVmYXVsdEVkaXRvckRlZmluZWQiLCJlZGl0b3JSZW5kZXJlciIsIm9uQ2xpY2siLCJFZGl0aW5nQ2VsbCIsImNyZWF0ZUVkaXRpbmdDZWxsIiwiY29udGVudCIsImVkaXRDZWxsc3R5bGUiLCJlZGl0Q2VsbFN0eWxlIiwiZWRpdENlbGxjbGFzc2VzIiwiZWRpdENlbGxDbGFzc2VzIiwicmVuZGVyV2l0aEVkaXRpbmdDZWxsIiwiY3JlYXRlQ29udGV4dCIsIndpdGhSb3dMZXZlbENlbGxFZGl0IiwiVHlwZSJdLCJzb3VyY2VSb290IjoiIn0=